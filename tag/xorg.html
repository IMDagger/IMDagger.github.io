<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <title>IMDagger: Дневник</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Блог IMDagger: IT и жизнь" />
        <meta name="keywords" content="python,lisp,scheme,racket,emacs,blender,программирование,моделирование,lua,c++,c,js,java,git,bazaar" />
        <meta name="author" content="Alex Moiseenko (IMDagger)" />

<meta name="robots" content="noindex"/>
        <!-- Open Graph -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="stylesheet" href="/theme/css/html4css1.css" />
        <link rel="stylesheet" href="/theme/css/style.css" />
        <link rel="stylesheet" href="/theme/css/pygment.css" />
        <link rel="stylesheet" href="/theme/css/math.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://imdagger.github.io/theme/js/math.js"></script>
        <script src="http://s3.amazonaws.com/nwapi/nwmatcher/nwmatcher-1.2.5-min.js"></script>
        <!--[if (gte IE 6)&(lte IE 8)]>
          <script type="text/javascript" src="/theme/js/selectivizr-min.js"></script>
          <noscript><link rel="stylesheet" href="[fallback css]" /></noscript>
        <![endif]-->

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body>
        <div class="row page-head">
            <div class="row page-head-status page-head-status-top"><div class="col-sm-12 b-status mine"><p><i></i><a href="#" title="настроение" class="b-consistent-link"><b>ни к чему чужое мнение, в моде самовыражение</b></a></p></div></div>
            <div class="col-sm-2 page-left">
                <a href="#">
                    <img src="http://upics.yandex.ru/22199227/normal" ilo-full-src="http://upics.yandex.ru/22199227/normal">
                </a>
            </div>
            <div class="col-sm-10 all-posts">
                <div class="title-container">
                    <h1><b><a href="http://imdagger.github.io" class="fn nickname">IMDagger</a></b></h1>
                </div>
                <div class="title-menu">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#">Дневник</a>
                        </li>
                        <li><a href="#">О себе</a></li>
                        <li><a href="#">Фотки</a></li>
                        <li><a href="#">RSS-ленты</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row page-body">
<div class="col-sm-2 page-left">
<div class="row widget widget-photo">
    <a href="posts/2011/08/07/aga-popalsia/" class="b-user-photo__link"><img class="b-user-photo__img" src=" http://img-fotki.yandex.ru/get/5409/22199227.a/0_625fc_e780ccc7_L
?log_nocount=64720402854"></a>
</div><div class="row widget">
    <div class="widget-content b-user-info">
        <div class="widget__body">
            <div class="widget-user-info__age">
                <i class="widget-user-info__sex widget-user-info__sex_type_"></i> 26&nbsp;лет
            </div>
            <div class="widget-user-info__place">
                <a href="#">Гомель</a>,                <a href="#">Беларусь</a>            </div>
            <ul class="contacts">
                <li class="contact contact-type-email"><i></i><a href="mailto:imdagger@yandex.ru">imdagger@yandex.ru</a></li>
                <li class="contact contact-type-ya-online"><i></i>imdagger@ya.ru</li>
                <li class="contact contact-type-icq"><i></i>350395088</li>
            </ul>
        </div>
    </div>
</div>

<div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Метрика</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
              <!-- noindex -->
              <!-- googleoff: index -->
              <div class="widget-entry">
                <!-- Yandex.Metrika informer --><a href="https://metrika.yandex.ru/stat/?id=25746494&amp;from=informer" target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/25746494/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:25746494,lang:'ru'});return false}catch(e){}"/></a><!-- /Yandex.Metrika informer --><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter25746494 = new Ya.Metrika({id:25746494, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/25746494" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
                <!-- googleon: index -->
                <!-- /noindex -->
                </div>
            </div>
        </div>
    </div>
</div><div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Популярное в дневнике</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
                <div class="widget-entry">
                    <div class="widget-day__title">25&nbsp;июня</div>
                    <div class="widget-entry clearfix">
                        <div class="widget-entry__item">
                            <div class="widget-entry__title">
                                <a href="#" class="h-link">&nbsp;&nbsp;&nbsp; Висцеральная теория сна выглядит стр…</a>
                            </div>
                            <div class="widget-entry__info">2&nbsp;ответа</div>
                        </div>
                    </div>
                </div>
                <div class="widget-entry">
                    <div class="widget-day__title">16&nbsp;мая</div>
                    <div class="widget-entry clearfix">
                        <div class="widget-entry__item">
                            <div class="widget-entry__title">
                                <a href="#" class="h-link">Пожалуй у ByFly сегодня даже более серьё…</a>
                            </div>
                            <div class="widget-entry__info">2&nbsp;ответа</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div></div>

<div class="col-sm-10 all-posts">
<div class="row b-post-filter">
    <span class="pull-right">
        записи по
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">месяцам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="#" class="h-link">Нулябрь</a><li>
                <li><a rel="nofollow" href="#" class="h-link">Первябрь</a><li>
            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">меткам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/oshibka.html" class="h-link">ошибка</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/javascript.html" class="h-link">javascript</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/icfpc.html" class="h-link">icfpc</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/java.html" class="h-link">java</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/zhizn.html" class="h-link">жизнь</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/blender.html" class="h-link">blender</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/ia.html" class="h-link">Я</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/google.html" class="h-link">google</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/sborka.html" class="h-link">сборка</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/programmirovanie.html" class="h-link">программирование</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/rabota.html" class="h-link">работа</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/linux.html" class="h-link">linux</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/eda.html" class="h-link">еда</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/iandeks.html" class="h-link">Яндекс</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/nabrosok.html" class="h-link">набросок</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/emacs.html" class="h-link">emacs</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/radost.html" class="h-link">радость</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/python.html" class="h-link">python</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/bredni.html" class="h-link">бредни</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bge.html" class="h-link">bge</a>                </li>            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">типам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="http://imdagger.github.io/category/description.html" class="h-link">обращение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/friend.html" class="h-link"></a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/join.html" class="h-link"></a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/link.html" class="h-link">ссылки</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/mood.html" class="h-link">настроение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/photo.html" class="h-link">фото</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/text.html" class="h-link">текст</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/video.html" class="h-link">видео</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/wishlist.html" class="h-link"></a><li>
            </ul>
        </div>
    </span>
</div>
    <div class="row b-post">
<div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2013/04/12/genius-easypen-m406xe/" >
                12 апреля 2013 года, 05:05
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/grafika.html">графика</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/sila.html">сила</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/pero.html">перо</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/udev.html">udev</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/genius.html">genius</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/nazhatie.html">нажатие</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/planshet.html">планшет</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/m406xe.html">m406xe</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/davlenie.html">давление</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2013/04/12/genius-easypen-m406xe/">Genius EasyPen M406XE</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Теперь у меня есть чем рисовать и делать наброски. Достаточно
компактный планшет, мне нравится. Думаю в большем я не нуждаюсь, т.к.
мои навыки рисования очень далеки от идеала. Чтобы завести данный девайс
под Ubuntu Linux 12.04 пришлось немного полазать в интернете, а вот,
чтобы заставить не на самом топовом ядре обрабатывать силу нажатия
пришлось хорошо поискать решение. Но на ЛОРе много чего полезного и вот
этот&nbsp;<a class="reference external" href="http://www.linux.org.ru/forum/linux-hardware/6929804#comment-7624274">комментарий</a>
решил все вопросы. Только нужно не забыть установить перед этим драйвер
<a class="reference external" href="https://launchpad.net/wizardpen">Wizardpen</a>.
Утилиту&nbsp;<a class="reference external" href="https://github.com/Marisa-Chan/init-tablet">init-tablet</a>
пришлось чуть подправить, чтобы она собралась без проблем, но зато её
магическая последовательность байт <code class="code">
0x5,0x12,0x10,0x11,0x12,0,0,0</code>

отправленная в устройство планшета сразу же включает отправку силы
нажатия:</p>
<blockquote>
<div class="line-block">
<div class="line">$ xinput list</div>
<div class="line">⎡ Virtual core pointer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; id=2&nbsp;&nbsp;&nbsp; [master</div>
<div class="line">pointer&nbsp; (3)]</div>
<div class="line">⎜&nbsp;&nbsp; ↳ Virtual core XTEST pointer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; id=4&nbsp;&nbsp;&nbsp; [slave</div>
<div class="line">pointer&nbsp; (2)]</div>
<div class="line">⎜&nbsp;&nbsp; ↳ A4Tech PS/2+USB Mouse&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; id=11&nbsp;&nbsp;&nbsp; [slave</div>
<div class="line">pointer&nbsp; (2)]</div>
<div class="line">⎜&nbsp;&nbsp; ↳ SynPS/2 Synaptics TouchPad&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; id=15&nbsp;&nbsp;&nbsp; [slave</div>
<div class="line">pointer&nbsp; (2)]</div>
<div class="line">⎜&nbsp;&nbsp; ↳ <strong>Genius Tablet</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; id=16</div>
<div class="line">[slave&nbsp; pointer&nbsp; (2)]</div>
<div class="line">...</div>
<div class="line">$ xinput test ‘Genius Tablet’</div>
<div class="line">...</div>
<div class="line">motion a[0]=6439 a[1]=4816 <strong>a[2]=905</strong></div>
<div class="line">$ lsusb</div>
<div class="line">...</div>
<div class="line">Bus 006 Device 003: ID 0458:5019 KYE Systems Corp. (Mouse Systems)</div>
</div>
</blockquote>
<p>Потребовалось ещё создать
<strong>/usr/share/X11/xorg.conf.d/70-wizardpen.conf</strong>:</p>
<blockquote>
<div class="line-block">
<div class="line">Section “InputClass”</div>
<div class="line">&nbsp;&nbsp; Identifier “wizardpen”</div>
<div class="line">&nbsp;&nbsp; MatchIsTablet “on”</div>
<div class="line">&nbsp;&nbsp; MatchDevicePath “/dev/input/event*”</div>
<div class="line">&nbsp;&nbsp; MatchProduct “KYE Systems|Genius|M460XE”</div>
<div class="line">&nbsp;&nbsp; Driver “wizardpen”</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“TopX”&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“0”</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“TopY”&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“0”</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“BottomX”&nbsp;&nbsp; &nbsp;“15360” # нужно откалибровать при</div>
<div class="line">помощи <strong>wizardpen-calibrate</strong></div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“BottomY”&nbsp;&nbsp; &nbsp;“10240”</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“TopZ”&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“1”</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“BottomZ”&nbsp;&nbsp; &nbsp;“400” # можно прописать и 1023</div>
<div class="line">&nbsp;&nbsp; Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“TPCButton”&nbsp;&nbsp; &nbsp;“off” # даже если не касаться</div>
<div class="line">планшета, то работают кнопки на пере</div>
<div class="line">&nbsp;&nbsp; #Option&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;“DebugLevel”&nbsp;&nbsp; &nbsp;“10”</div>
<div class="line">EndSection</div>
<div class="line">Section “InputClass”</div>
<div class="line">&nbsp;&nbsp; Identifier “wizardpen ignore mouse dev”</div>
<div class="line">&nbsp;&nbsp; MatchIsTablet “on”</div>
<div class="line">&nbsp;&nbsp; MatchDevicePath “/dev/input/mouse*”</div>
<div class="line">&nbsp;&nbsp; MatchProduct “KYE Systems|Genius|M460XE”</div>
<div class="line">&nbsp;&nbsp; Driver “”</div>
<div class="line">EndSection</div>
</div>
</blockquote>
<p>И для udevd я добавил ещё автоматический запуск инициализации
планшета, чтобы глубина всегда работала после подключения (в созданном
файле /etc/udev/rules.d/68-xorg-wizardpen.rules):</p>
<blockquote>
ENV{ID_VENDOR_ID}==“0458”,&nbsp; ENV{ID_MODEL_ID}==“5019”,
RUN+=“/usr/local/bin/init-tablets”</blockquote>
<p>А в /etc/udev/rules.d/67-xorg-wizardpen.rules ещё добавил:</p>
<blockquote>
<div class="line-block">
<div class="line"># KYE Systems Corp (Genius M406XE)</div>
<div class="line">ENV{ID_VENDOR_ID}==“0458”,&nbsp; ENV{ID_MODEL_ID}==“5019”,
ENV{x11_driver}=“wizardpen”</div>
</div>
</blockquote>
<p>Но это всё общеизвестная информация. В основном много сил ушло на
определение силы нажатия.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2013/01/07/emuliatsiia-myshki/" title="изменено 7 января 2013 года в 01:39">
                7 января 2013 года, 01:31
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/klaviatura.html">клавиатура</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/mysh.html">мышь</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/keypad.html">keypad</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/emuliatsiia.html">эмуляция</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2013/01/07/emuliatsiia-myshki/">Эмуляция мышки</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>У старого компа уже давно накрылось несколько мышек, последняя
вообще таинственно пропала (sic сбежала, наверное). А беспроводную не
всегда есть возможность подключить, т.к. она нужна на нетбуке. Поэтому
на случай, когда я оставил нетбук в одном месте с мышкой, но не дома (а
сегодня как раз такой случай), я решил вспомнить, как заставить X-ы
эмулировать мышь. Оказалось, что в последних сборках ArchLinux эту
возможность по умолчанию отключили и мне пришлось поискать и Интернет.
Минут 5 поисков (благо я не один такой), вуаля решение уже готово:</p>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="https://bbs.archlinux.org/viewtopic.php?pid=904880#p904880">Вариант</a>
с правкой настроек</p>
</li>
<li><p class="first">Там же
другой <a class="reference external" href="https://bbs.archlinux.org/viewtopic.php?pid=1045229#p1045229">вариант</a>
(сиюминутный и без перезагрузки X-ов и глобальной какой-то правки)</p>
<blockquote>
<div class="line-block">
<div class="line">$ # вариант 2</div>
<div class="line">$ setxkbmap -option keypad:pointerkeys</div>
</div>
</blockquote>
</li>
</ol>
<p>Второй вариант хорош, когда просто нужно проверить как оно рабтоает
вцелом. Жмём <kbd class="kbd">
Shift+NumLock</kbd>
 и наслаждаемся управлением мышкой через <strong>1,
2, 3, 4, 6, 7, 8, 9</strong> стрелки и <strong>/ * -</strong> переключение кнопок мыши, а
<strong>5</strong> специальная, означающая нажатие выбранной кнопки.</p>
<p>Если нужно выделить текст в браузере, чтобы скопировать, то жмём в
начале текста Shift, затем 5, затем двигаемся в другое место в тексте и
снова жмём 5, отпускаем Shift.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2012/11/02/staryi-komp/" >
                2 ноября 2012 года, 16:56
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/nouveau.html">nouveau</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/otobrazhenie.html">отображение</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/nvidia.html">nvidia</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/kompiuter.html">компьютер</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/dpi.html">dpi</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/videokarta.html">видеокарта</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/staryi.html">старый</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2012/11/02/staryi-komp/">Старый комп</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp;&nbsp;&nbsp; Измерив (приблизительно) линейкой свой старый дисплей от моего
компьютера (с начала 2003 года) я понял, что: то ли DDC видеокарты
возвращает неверный DPI или, что более вероятно, драйвер Nouveau
возвращает или не может определить DPI монитора. Раньше был драйвер от
Nvidia, но они больше не поддерживают мой старый Geforce 4 MX440.
Поэтому пришлось сходить в богатое руководство ArchLinux и взглянуть,
как получить, что за DPI выставлен у меня:</p>
<blockquote>
xdpyinfo | grep -B2 resolution</blockquote>
<p>&nbsp;&nbsp;&nbsp; Оказалось, что 96. А по моим расчётам у меня где-то 86 точек на
дюйм. Поэтому после:</p>
<blockquote>
xrandr –dpi 86</blockquote>
<p>&nbsp;&nbsp;&nbsp; Приложения в libGDX на этом PC стали отображаться как положено и
задано в сантиметрах.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/01/12/vernul-shrifty/" >
                12 января 2011 года, 22:07
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/obnovlenie.html">обновление</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/shrifty.html">шрифты</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/01/12/vernul-shrifty/">Вернул шрифты</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>После обновления Xorg до 1.10.0 пропали все шрифты. Я их порпобовал
переместить в директорию /usr/fonts/X11/ и обновить fc-cache, но стало
ещё хуже и xfontsel утверждал, что «Unable to load any usable ISO8859
font». Но к счастью всё решилось просто, я раскомметировал строки,
которые убрал временно при обновлении с 1.5 до 1.6.3 Xorg, вот такого
вида <code class="code">
FontPath &quot;/usr/share/fonts/misc&quot;</code>
 .. <code class="code">
FontPath &quot;/usr/share/fonts/TTF&quot;</code>

и т.д. И всё поднялось после растарта X-ов. Осталось теперь решить
последнюю проблему и станет лучше, чем было: включить DRI для Riva TNT2,
драйвер nouvea заработал (у него есть небольшой сдвиг при выводе, а так
всё пока хорошо).</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/01/11/obnovil-xorg-do-1999901/" >
                11 января 2011 года, 00:19
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/nouveau.html">nouveau</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/01/11/obnovil-xorg-do-1999901/">Обновил Xorg до 1.9.99.901</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp;&nbsp;&nbsp; Я его обновил прямо из master ветки, это релиз кандидат Xorg 1.10.0.
К нему собрал nouveau драйвер, ядро тоже собрал с поддержкой Nouveau
DRM. Правда запустил я всё это удалённо, и пока на монитор взглянгуть не
могу. X-ы стартанули нормально, это видно по логам. Хотя без массы
приключений не обошлось. Почему-то пришлось прилинковать к libdrm
библиотеку libkms, почему-то не загружался драйвер без libkms. И вообще
я сначала забыл собрать nouveau_drv, а пытался загрузить
modesetting_drv :). Потом проблемы с udev, пришлось обновлять его, т.к.
у меня был 1.44, а там не хватает функции для nouveau_drv.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/02/04/xorg-163/" >
                4 февраля 2010 года, 17:01
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/skrinkasting.html">скринкастинг</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/recordmydesktop.html">recordmydesktop</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/02/04/xorg-163/">Xorg 1.6.3</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp; &nbsp; Что ещё приятного ощутил от обновления до Xorg 1.6.3 с
старенького-старенького Xorg 6-ого? Утилита для скринкастинга
recordmydesktop заработала, как мне раньше от неё и хотелось. Но на
старых X-ах она могла работать корректно только с опцией –full-shots,
при этом уже 4 кадра в секунду были тяжёлой рутиной для неё, если я
включал даже небольшое сжатие, то о запуске BGE можно было забыть. Пойду
ещё попробую ffmpeg &nbsp;с опцией -f x11grab, вдруг оно тоже ещё быстрее
заработает. И тогда я смогу делать полноценное видео с рабочего стола с
более-менее нормальным fps. Мечты сбываются…</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/02/02/ura-russkie-bukvy/" >
                2 февраля 2010 года, 16:37
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/radost.html">радость</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/obnovlenie.html">обновление</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/pechal.html">печаль</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/02/02/ura-russkie-bukvy/">Ура русские буквы!</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Починил раскладку. Стал я обновлять X-ы 6.8.2 до Xorg 1.6.4.
Столкнулся с проблемой, что в новых X-ах мне нужен либо HAL, которого
естественно у меня не было, либо понять почему xkbcomp ругается на то,
что подключаемый файл <strong>pc</strong> не возможно распарсить, ошибка в первой
строке. Долго думал… думал… и случайно обнаружил, что у меня осталась
после обновления директория pc, а файла нет, т.к. невозможно
существование в одном каталоге им файла и директории с одинаковым
именем. Я стёр всё лишнее и о чудо! Заработало и перелючение раскладки и
все модификаторы из HAL, которые я там науказывал. Либо Патрику стоило
позаботится о том, чтобы удалить директорию pc и создать файл, либо
разработчикам xkbcomp стоило выводить сообщение повнятнее, чем ошибка в
первой строчке <del class="del">
рррр… какая тут может быть строчка, если оно файл не
прочитало</del>
.</p>
<p>Единственно, что огорчает - упала производительность вывода в
несколько раз. И я это чувствую и вижу :(.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/01/30/obnovil-x-y/" >
                30 января 2010 года, 19:54
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/obnovlenie.html">обновление</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/xorg.html">Xorg</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/01/30/obnovil-x-y/">Обновил X-ы</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp; &nbsp; Обновил для того, чтобы обновить Mesa, который мне нужен не ниже
версии 7.5.1, т.к. в ней поправлена проблема с трафаретом. Дома у меня
нормальный драйвер от NVidia с ускорением, а тут просто софтварный,
чтобы отлаживать новую возможность X-Ray для BGE мне требуется заточить
систему здесь :).</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div>    </div>
</div>
        </div>
    </body>
</html>