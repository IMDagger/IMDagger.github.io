<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <title>IMDagger: Дневник</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Блог IMDagger: IT и жизнь" />
        <meta name="keywords" content="python,lisp,scheme,racket,emacs,blender,программирование,моделирование,lua,c++,c,js,java,git,bazaar" />
        <meta name="author" content="Alex Moiseenko (IMDagger)" />

<meta name="robots" content="noindex"/>
        <!-- Open Graph -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
        <link rel="shortcut icon" href="http://imdagger.github.io/favicon.ico" />
        <link rel="stylesheet" href="/theme/css/html4css1.css" />
        <link rel="stylesheet" href="/theme/css/style.css" />
        <link rel="stylesheet" href="/theme/css/pygment.css" />
        <link rel="stylesheet" href="/theme/css/math.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://imdagger.github.io/theme/js/math.js"></script>
        <script src="http://s3.amazonaws.com/nwapi/nwmatcher/nwmatcher-1.2.5-min.js"></script>
        <!--[if (gte IE 6)&(lte IE 8)]>
          <script type="text/javascript" src="/theme/js/selectivizr-min.js"></script>
          <noscript><link rel="stylesheet" href="[fallback css]" /></noscript>
        <![endif]-->

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link href="http://imdagger.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="IMDagger Atom-лента" />
    </head>

    <body>
        <div class="row page-head">
            <div class="row page-head-status page-head-status-top"><div class="col-sm-12 b-status mine"><p><i></i><a href="#" title="настроение" class="b-consistent-link"><b>Продать кому-то что-то всегда на деле сложнее, чем кажется</b></a></p></div></div>
            <div class="col-sm-2 page-left">
                <a href="#">
                    <img src="http://upics.yandex.ru/22199227/normal" ilo-full-src="http://upics.yandex.ru/22199227/normal">
                </a>
            </div>
            <div class="col-sm-10 all-posts">
                <div class="title-container">
                    <h1><b><a href="http://imdagger.github.io" class="fn nickname">IMDagger</a></b></h1>
                </div>
                <div class="title-menu">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#">Дневник</a>
                        </li>
                        <li><a href="http://fotki.yandex.ru/users/imdagger">Фотки</a></li>
                        <li><a href="http://imdagger.github.io/pages/o-sebe.html">О себе</a></li>
                        <li><a href="http://imdagger.github.io/pages/rss-lenta.html">RSS-лента</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row page-body">
<div class="col-sm-2 page-left">
<div class="row widget widget-photo">
    <a href="posts/2011/08/07/aga-popalsia/" class="b-user-photo__link"><img class="b-user-photo__img" src=" http://img-fotki.yandex.ru/get/5409/22199227.a/0_625fc_e780ccc7_L
?log_nocount=64720402854"></a>
</div><div class="row widget">
    <div class="widget-content b-user-info">
        <div class="widget__body">
            <div class="widget-user-info__age">
                <i class="widget-user-info__sex widget-user-info__sex_type_"></i> 27&nbsp;лет
            </div>
            <div class="widget-user-info__place">
                <a href="#">Гомель</a>,                <a href="#">Беларусь</a>            </div>
            <ul class="contacts">
                <li class="contact contact-type-email"><i></i><a href="mailto:imdagger@yandex.ru">imdagger@yandex.ru</a></li>
                <li class="contact contact-type-ya-online"><i></i>imdagger@ya.ru</li>
                <li class="contact contact-type-icq"><i></i>350395088</li>
            </ul>
        </div>
    </div>
</div>

<div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Метрика</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
              <!-- noindex -->
              <!-- googleoff: index -->
              <div class="widget-entry">
                <!-- Yandex.Metrika informer --><a href="https://metrika.yandex.ru/stat/?id=25746494&amp;from=informer" target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/25746494/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:25746494,lang:'ru'});return false}catch(e){}"/></a><!-- /Yandex.Metrika informer --><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter25746494 = new Ya.Metrika({id:25746494, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/25746494" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
                <!-- googleon: index -->
                <!-- /noindex -->
                </div>
            </div>
        </div>
    </div>
</div><div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Популярное в дневнике</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
                <div class="widget-entry">
                    <div class="widget-day__title">25&nbsp;июня</div>
                    <div class="widget-entry clearfix">
                        <div class="widget-entry__item">
                            <div class="widget-entry__title">
                                <a href="#" class="h-link">&nbsp;&nbsp;&nbsp; Висцеральная теория сна выглядит стр…</a>
                            </div>
                            <div class="widget-entry__info">2&nbsp;ответа</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div></div>

<div class="col-sm-10 all-posts">
<div class="row b-post-filter">
    <span class="pull-right">
        записи по
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">месяцам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="#" class="h-link">Нулябрь</a><li>
                <li><a rel="nofollow" href="#" class="h-link">Первябрь</a><li>
            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">меткам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/emacs.html" class="h-link">emacs</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/javascript.html" class="h-link">javascript</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/icfpc.html" class="h-link">icfpc</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/blender.html" class="h-link">blender</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/ia.html" class="h-link">Я</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/google.html" class="h-link">google</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/zhizn.html" class="h-link">жизнь</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/oshibka.html" class="h-link">ошибка</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/rabota.html" class="h-link">работа</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/python.html" class="h-link">python</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/java.html" class="h-link">java</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bredni.html" class="h-link">бредни</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/racket.html" class="h-link">racket</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/programmirovanie.html" class="h-link">программирование</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bge.html" class="h-link">bge</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/eda.html" class="h-link">еда</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/linux.html" class="h-link">linux</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/nabrosok.html" class="h-link">набросок</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/radost.html" class="h-link">радость</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/iandeks.html" class="h-link">Яндекс</a>                </li>            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">типам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="http://imdagger.github.io/category/description.html" class="h-link">обращение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/friend.html" class="h-link">дружба</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/join.html" class="h-link">клубы</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/link.html" class="h-link">ссылки</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/mood.html" class="h-link">настроение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/photo.html" class="h-link">фото</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/text.html" class="h-link">текст</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/video.html" class="h-link">видео</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/wishlist.html" class="h-link"></a><li>
            </ul>
        </div>
    </span>
</div>
    <div class="row b-post">
<div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/09/20/oshibka-v-ospathrelpath-v-python-26/" >
                20 сентября 2011 года, 23:14
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/python.html">python</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/biblioteka.html">библиотека</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/relpath.html">relpath</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/09/20/oshibka-v-ospathrelpath-v-python-26/">Ошибка в os.path.relpath в Python 2.6</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Нужно было видимо поставить сразу Python 2.7, а не Python 2.6. Т.к.
я сегодня потратил минут 30 на поиск ошибки в коде, а оказалось она в
библиотеке из стандартного комплекта.</p>
<div class="highlight"><pre><span class="pgcss-gp">&gt;&gt;&gt; </span><span class="pgcss-kn">import</span> <span class="pgcss-nn">os</span>
<span class="pgcss-gp">&gt;&gt;&gt; </span><span class="pgcss-n">os</span><span class="pgcss-o">.</span><span class="pgcss-n">path</span><span class="pgcss-o">.</span><span class="pgcss-n">relpath</span><span class="pgcss-p">(</span><span class="pgcss-s">&#39;/test&#39;</span><span class="pgcss-p">,</span> <span class="pgcss-s">&#39;/&#39;</span><span class="pgcss-p">)</span>
<span class="pgcss-go">../test</span>
</pre></div>
<p>Но это ведь не правильно, должно было сказать, просто test. Т.к.
подняться выше корня нельзя и объект лежит в корне. Немного подправил
posixpath.py. Я знал, что этот баг уже давно нашли, поэтому просто
подправил вручную файл в соответствии с патчем
<a class="reference external" href="http://bugs.python.org/file19111/py27_fix_relpath.patch">http://bugs.python.org/file19111/py27_fix_relpath.patch</a></p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/09/13/js-i-export/" >
                13 сентября 2011 года, 23:33
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/export.html">export</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/programmirovanie.html">программирование</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/javascript.html">javascript</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/slovo.html">слово</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/rabota.html">работа</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zarezervirovannoe.html">зарезервированное</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/09/13/js-i-export/">JS и export</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Не стоит использовать слово export в JavaScript коде, т.к. это
зарезервированное слово. И конструкции вида <code class="code">
aaa.bbb.export = ccc</code>
,
работают во многих браузерах, но в IE выдаёт ошибку, что ожидается
идентификатор. Я не знал, что это зарезервированное слово и долго тупил,
почему IE не хочет переварить моё <code class="code">
{export: true}</code>
, а в FF всё ок.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/09/02/zhizn-ili-smert/" >
                2 сентября 2011 года, 10:06
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/life.html">Life :)</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zhizn.html">жизнь</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/operator.html">оператор</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/09/02/zhizn-ili-smert/">Жизнь или смерть?</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Похоже у оператора Life какие-то технические неисправности. Со
вчерашнего дня деньги на телефоны не пришли ещё, служба *100# о
состоянии баланса не доступна по техническим причинам, сайт тоже не
доступен был. А сейчас на нём предупреждения, и похоже, что файловая
система в режиме Read Only, наверное у них какие-то сбои с винчестером
(чисто мои догадки), хотя почему mysql не доступен, только если он не
крутился на этой же машине.</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/409617/"><img alt="life:)" src="http://img-fotki.yandex.ru/get/5410/22199227.a/0_64011_658f217a_L" title="life:)"/></a></p>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/08/02/sborka-riak-0142-na-erlang-otp-14b03/" >
                2 августа 2011 года, 02:26
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/reshenie.html">решение</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/sborka.html">сборка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/riak.html">riak</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/erlang.html">erlang</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/08/02/sborka-riak-0142-na-erlang-otp-14b03/">Сборка Riak 0.14.2 на Erlang OTP 14B03</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Если взять исходники <strong>не из master</strong>, а просто со страницы
скачивании от Basho, то с новым Erlang есть несколько проблем при сборке
Riak. Чтобы не выпадало <strong>src/riakc_pb_socket.erl:62: type
ip_address() undefined</strong> нужно применить патч из
<a class="reference external" href="https://github.com/basho/riak-erlang-client/commit/6d3bafd8322270113a9401ba30ad35ec4c7ce95f">этого</a>
коммита к 0.14.2 (либо вытянуть просто текущую версию из master). Также
выпадает ошибка при сборке ebloom фильтра:</p>
<pre class="literal-block">
==&gt; ebloom (compile)
Compiling c_src/ebloom_nifs.cpp
c_src/ebloom_nifs.cpp: In function 'ERL_NIF_TERM ebloom_new_filter(ErlNifEnv*, int, const ERL_NIF_TERM*)':
c_src/ebloom_nifs.cpp:85: ошибка: нет декларации 'enif_alloc_resource_compat' в этой области видимости
c_src/ebloom_nifs.cpp:90: ошибка: нет декларации 'enif_release_resource_compat' в этой области видимости
c_src/ebloom_nifs.cpp: In function 'ERL_NIF_TERM ebloom_serialize(ErlNifEnv*, int, const ERL_NIF_TERM*)':
c_src/ebloom_nifs.cpp:247: ошибка: нет декларации 'enif_alloc_binary_compat' в этой области видимости
c_src/ebloom_nifs.cpp: In function 'ERL_NIF_TERM ebloom_deserialize(ErlNifEnv*, int, const ERL_NIF_TERM*)':
c_src/ebloom_nifs.cpp:263: ошибка: нет декларации 'enif_alloc_resource_compat' в этой области видимости
c_src/ebloom_nifs.cpp:266: ошибка: нет декларации 'enif_release_resource_compat' в этой области видимости
c_src/ebloom_nifs.cpp: In function 'int on_load(ErlNifEnv*, void**, ERL_NIF_TERM)':
c_src/ebloom_nifs.cpp:287: ошибка: нет декларации 'enif_open_resource_type_compat' в этой области видимости
ERROR: $CXX -c $CXXFLAGS $DRV_CFLAGS c_src/ebloom_nifs.cpp -o c_src/ebloom_nifs.o failed with error: 1
make: *** [all] Ошибка 1
</pre>
<p>Но и это связано тоже с неточностью в erl_nif_compat.h из ebloom
модуля. Которая исправлена в master вот <a class="reference external" href="https://github.com/basho/ebloom/commit/b72cc51041ab6ee4e9317e0451d18e70e6722b14">этим
коммитом</a>.
Его тоже легко применить даже руками, просто заменить == на &gt;= для
проверки минорной версии Erlang NIF.</p>
<p>P.S. Заинтересовавшись, что это за модуль узнал про такую структуру
данных как <a class="reference external" href="http://ru.wikipedia.org/wiki/%D0%A4%D0%B8%D0%BB%D1%8C%D1%82%D1%80_%D0%91%D0%BB%D1%83%D0%BC%D0%B0">фильтр
Блума</a>.
Думаю стоит пополнить свои пробелы знаний в теории не детерминированных
структур данных.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-link">
    <div class="panel-heading b-post-type b-post-type-link">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
поделился ссылкой        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/07/25/ie7-i-lishniaia-zapiataia/" >
                25 июля 2011 года, 13:58
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/javascript.html">javascript</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ie.html">IE</a></span></div>
            </noindex>
            <div class="post-title">
<a class="h-link" href="http://night-fairy-tales.com/2009/10/ie.html">
    <img class="b-ico" src="http://favicon.yandex.ru/favicon/night-fairy-tales.com?default=yaru-external">IE7 и лишняя запятая</a>
            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Ошибка в IE: “Предполагается наличие идентификатора, строки или числа”</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/07/17/konflikt/" >
                17 июля 2011 года, 21:42
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/dom.html">дом</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/konflikt.html">конфликт</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/couchdb.html">couchdb</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ispravlenie.html">исправление</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/07/17/konflikt/">Конфликт</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Дома установлена CouchDB 1.1.0, но при попытке создания новой базы
или сохранении документа выскакивала ошибка <em>function_clause error</em>.
Хорошо, что я вспомнил, что до этого пробовал установить версию 0.11 и
вызвал не обновление пакета, а установку новой версии. От этого в
директории с CouchDB для Erlang образовалось по несколько версий на
couchdb, mochiweb и т.д. После удаления 0.11 директорий вот такая ошибка
при создании документа исчезла и я смог продолжить мои эксперименты с
репликацией:</p>
<p class="cut"><a class="h-link reference internal" href="#cut_79941904"data-toggle="collapse">показать весь трэйс с ошибкой</a></p>
<div class="collapse" id="cut_79941904">
<pre class="literal-block">
[info] [&lt;0.464.0&gt;] 127.0.0.1 - - 'PUT' /dluser/5aeb0baa0557cc4048385a8ff3000e2b 500
[error] [&lt;0.609.0&gt;] function_clause error in HTTP request
[info] [&lt;0.609.0&gt;] Stacktrace: [{mochiweb_request,get,
                                 [scheme,
                                  {mochiweb_request,#Port&lt;0.2302&gt;,'PUT',
                                   &quot;/dluser/5aeb0baa0557cc4048385a8ff3000e2b&quot;,
                                   {1,1},
                                   {12,
                                    {&quot;host&quot;,
                                     {'Host',&quot;127.0.0.1:5985&quot;},
                                     {&quot;accept&quot;,
                                      {'Accept',
                                       &quot;application/json, text/javascript, */*&quot;},
                                      nil,
                                      {&quot;accept-language&quot;,
                                       {'Accept-Language',&quot;en-us,en;q=0.5&quot;},
                                       {&quot;accept-encoding&quot;,
                                        {'Accept-Encoding',&quot;gzip, deflate&quot;},
                                        {&quot;accept-charset&quot;,
                                         {'Accept-Charset',
                                          &quot;ISO-8859-1,utf-8;q=0.7,*;q=0.7&quot;},
                                         nil,nil},
                                        nil},
                                       {&quot;connection&quot;,
                                        {'Connection',&quot;keep-alive&quot;},
                                        nil,
                                        {&quot;content-type&quot;,
                                         {'Content-Type',
                                          &quot;application/json; charset=UTF-8&quot;},
                                         {&quot;content-length&quot;,
                                          {'Content-Length',&quot;108&quot;},
                                          nil,nil},
                                         nil}}}},
                                     {&quot;user-agent&quot;,
                                      {'User-Agent',
                                       &quot;Mozilla/5.0 (X11; Linux i686; rv:2.0) Gecko/20100101 Firefox/4.0&quot;},
                                      {&quot;keep-alive&quot;,
                                       {'Keep-Alive',&quot;115&quot;},
                                       nil,
                                       {&quot;referer&quot;,
                                        {'Referer',
                                         &quot;http://127.0.0.1:5985/_utils/document.html?dluser&quot;},
                                        nil,nil}},
                                      {&quot;x-requested-with&quot;,
                                       {&quot;X-Requested-With&quot;,&quot;XMLHttpRequest&quot;},
                                       nil,nil}}}}}]},
                                {couch_httpd,absolute_uri,2},
                                {couch_httpd_db,db_doc_req,3},
                                {couch_httpd_db,do_db_req,2},
                                {couch_httpd,handle_request_int,5},
                                {mochiweb_http,headers,5},
                                {proc_lib,init_p_do_apply,3}]
</pre>
</div>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/05/06/youtube-api-lenty/" >
                6 мая 2011 года, 15:37
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/lenta.html">лента</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/youtube.html">youtube</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/05/06/youtube-api-lenty/">YouTube API ленты</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp;&nbsp;&nbsp; Кажется у YouTube только что отвалились feed-ы, т.к. запросы к API
возвращают <strong>Service Unavailable</strong>, например на такой стандартный запрос
<a class="reference external" href="http://gdata.youtube.com/feeds/api/standardfeeds/on_the_web">http://gdata.youtube.com/feeds/api/standardfeeds/on_the_web</a></p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/03/11/karty-dengi-dva-stvola/" >
                11 марта 2011 года, 23:34
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/location.html">location</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/favicon.html">favicon</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/window.html">window</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/firefox.html">firefox</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/hash.html">hash</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/03/11/karty-dengi-dva-stvola/">Карты, деньги, два ствола</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Firefox, window.location.hash, favicon.ico. Эта комбинация имеет
один досадный баг, при установке hash исчезает иконка сайта в Firefox, а
в моём случае он ещё шёл в корень сайти и брал другой favicon. Но
хорошо, что я нашёл в интернете ответ на мой вопрос, я и не думал, что
это баг браузера. Вот
<a class="reference external" href="http://kilianvalkhof.com/2010/javascript/the-case-of-the-disappearing-favicon/">решение</a>
проблемы. Только оно сломало IE8 :) поэтому лучше использовать вот так:</p>
<div class="highlight"><pre><span class="pgcss-nb">window</span><span class="pgcss-p">.</span><span class="pgcss-nx">location</span><span class="pgcss-p">.</span><span class="pgcss-nx">hash</span> <span class="pgcss-o">=</span> <span class="pgcss-nx">my_mega_link_hash</span><span class="pgcss-p">;</span>
<span class="pgcss-kd">var</span> <span class="pgcss-nx">agent</span> <span class="pgcss-o">=</span> <span class="pgcss-nx">navigator</span><span class="pgcss-p">.</span><span class="pgcss-nx">userAgent</span><span class="pgcss-p">.</span><span class="pgcss-nx">toLowerCase</span><span class="pgcss-p">();</span>
<span class="pgcss-k">if</span> <span class="pgcss-p">(</span><span class="pgcss-nx">agent</span><span class="pgcss-p">.</span><span class="pgcss-nx">indexOf</span><span class="pgcss-p">(</span><span class="pgcss-s2">&quot;firefox&quot;</span><span class="pgcss-p">)</span> <span class="pgcss-o">!=</span> <span class="pgcss-o">-</span><span class="pgcss-mi">1</span><span class="pgcss-p">)</span>
    <span class="pgcss-nx">setFavicon</span><span class="pgcss-p">();</span>
</pre></div>
<p>Я добавил проверку агента, т.е. для FF после присваивания якоря
страницы вызываем setFavicon, а для других браузеров делаем как обычно:
ничего :).</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/03/05/mesa-711-nouveau-i-dri-na-nv05/" >
                5 марта 2011 года, 21:48
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/nouveau.html">nouveau</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/draiver.html">драйвер</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/mygui.html">MyGUI</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/pechal.html">печаль</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/medlenno.html">медленно</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/uskorenie.html">ускорение</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/dri.html">DRI</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/03/05/mesa-711-nouveau-i-dri-na-nv05/">Mesa 7.11, Nouveau и DRI на nv05</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Я смог перевести драйвер с Software rasterizer на Gallium Nouveau
DRI, только вот почему-то OpenGL стал версии 1.2, а у меня было 1.5 и
FPS упал :( Т.е. на процессоре без видео карты (Riva TNT2) оно быстрее
успевает сделать все дела. Да ещё и глюки драйвера проявились (правда
может это связано с версия OGL 1.2):</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/344747/"><img alt="image0" src="http://img-fotki.yandex.ru/get/5704/imdagger.9/0_542ab_365eed77_L" title="image0"/></a></p>
<p>А MyGUI захотел для своего OpenGL менеджера PBO, возможно придётся
переделать менеждера, чтобы настолько требовательно не было. А то сам
BGE и Blender не требуют PBO. А ещё OpenGL DataManager неправильно ищет
ресурсы из-за ошибки в Common.</p>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2011/03/02/mygui-openglplatform/" >
                2 марта 2011 года, 22:46
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oshibka.html">ошибка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/linkovshchik.html">линковщик</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ld.html">ld</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/sborka.html">сборка</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/mygui.html">MyGUI</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2011/03/02/mygui-openglplatform/">MyGUI OpenGLPlatform</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp;&nbsp;&nbsp; Не знаю почему, но у меня libMyGUIStaticEngine и
libMyGUI.OpenGLPlatform разделены в две статические библиотеки. Причём
вторую пришлось скопировать вручную. Я добавил в Blender 2.49b загрузку
GUI, чуть позже взгляну сможет оно что-либо показать или просто упадёт
(скорее всего не упадёт, но и ничего не покажет, по закону подлости).
Пока систему ввода OIS не прикручивал, т.к. это может создать много
головной боли, нужно будет унаследоваться от классов ввода BGE. Во время
сборки ещё раз линковщик <strong>ld</strong> мне напомнил, что ему важен порядок
указания статических библиотек. Я почему-то ступил и указал сначала
основную библиотеку, а затем для платформы OpenGL, результат — выпадала
ошибка линковки. Линковщик смотрел, что основная статическая библиотека
не особо нужна на данном этапе линковки и исключал ещё, затем переходил
к OpenGLPlatform и обнаруживал неразрешённые символы. Пришлось поменять
местами и всё прошло гладко.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div>        <div class="panel panel-default">
            <div class="panel-body more">
                <span class="less-prev"><a class="h-link" href="http://imdagger.github.io/tag/oshibka2.html">Назад</a></span>
                <span class="more-next"><a class="h-link" href="http://imdagger.github.io/tag/oshibka4.html">Ещё записи</a></span>
            </div>
        </div>
    </div>
</div>
        </div>
    </body>
</html>