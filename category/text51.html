<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <title>IMDagger: Дневник</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Блог IMDagger: IT и жизнь" />
        <meta name="keywords" content="python,lisp,scheme,racket,emacs,blender,программирование,моделирование,lua,c++,c,js,java,git,bazaar" />
        <meta name="author" content="Alex Moiseenko (IMDagger)" />

<meta name="robots" content="noindex"/>
        <!-- Open Graph -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
        <link rel="shortcut icon" href="http://imdagger.github.io/favicon.ico" />
        <link rel="stylesheet" href="/theme/css/html4css1.css" />
        <link rel="stylesheet" href="/theme/css/style.css" />
        <link rel="stylesheet" href="/theme/css/pygment.css" />
        <link rel="stylesheet" href="/theme/css/math.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://imdagger.github.io/theme/js/math.js"></script>
        <script src="http://s3.amazonaws.com/nwapi/nwmatcher/nwmatcher-1.2.5-min.js"></script>
        <!--[if (gte IE 6)&(lte IE 8)]>
          <script type="text/javascript" src="/theme/js/selectivizr-min.js"></script>
          <noscript><link rel="stylesheet" href="[fallback css]" /></noscript>
        <![endif]-->

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link href="http://imdagger.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="IMDagger Atom-лента" />
    </head>

    <body>
        <div class="row page-head">
            <div class="row page-head-status page-head-status-top"><div class="col-sm-12 b-status mine"><p><i></i><a href="#" title="настроение" class="b-consistent-link"><b>Продать кому-то что-то всегда на деле сложнее, чем кажется</b></a></p></div></div>
            <div class="col-sm-2 page-left">
                <a href="#">
                    <img src="http://upics.yandex.ru/22199227/normal" ilo-full-src="http://upics.yandex.ru/22199227/normal">
                </a>
            </div>
            <div class="col-sm-10 all-posts">
                <div class="title-container">
                    <h1><b><a href="http://imdagger.github.io" class="fn nickname">IMDagger</a></b></h1>
                </div>
                <div class="title-menu">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#">Дневник</a>
                        </li>
                        <li><a href="http://fotki.yandex.ru/users/imdagger">Фотки</a></li>
                        <li><a href="http://imdagger.github.io/pages/o-sebe.html">О себе</a></li>
                        <li><a href="http://imdagger.github.io/pages/rss-lenta.html">RSS-лента</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row page-body">
<div class="col-sm-2 page-left">
<div class="row widget widget-photo">
    <a href="posts/2011/08/07/aga-popalsia/" class="b-user-photo__link"><img class="b-user-photo__img" src=" http://img-fotki.yandex.ru/get/5409/22199227.a/0_625fc_e780ccc7_L
?log_nocount=64720402854"></a>
</div><div class="row widget">
    <div class="widget-content b-user-info">
        <div class="widget__body">
            <div class="widget-user-info__age">
                <i class="widget-user-info__sex widget-user-info__sex_type_"></i> 26&nbsp;лет
            </div>
            <div class="widget-user-info__place">
                <a href="#">Гомель</a>,                <a href="#">Беларусь</a>            </div>
            <ul class="contacts">
                <li class="contact contact-type-email"><i></i><a href="mailto:imdagger@yandex.ru">imdagger@yandex.ru</a></li>
                <li class="contact contact-type-ya-online"><i></i>imdagger@ya.ru</li>
                <li class="contact contact-type-icq"><i></i>350395088</li>
            </ul>
        </div>
    </div>
</div>

<div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Метрика</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
              <!-- noindex -->
              <!-- googleoff: index -->
              <div class="widget-entry">
                <!-- Yandex.Metrika informer --><a href="https://metrika.yandex.ru/stat/?id=25746494&amp;from=informer" target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/25746494/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:25746494,lang:'ru'});return false}catch(e){}"/></a><!-- /Yandex.Metrika informer --><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter25746494 = new Ya.Metrika({id:25746494, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/25746494" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
                <!-- googleon: index -->
                <!-- /noindex -->
                </div>
            </div>
        </div>
    </div>
</div><div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Популярное в дневнике</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
                <div class="widget-entry">
                    <div class="widget-day__title">25&nbsp;июня</div>
                    <div class="widget-entry clearfix">
                        <div class="widget-entry__item">
                            <div class="widget-entry__title">
                                <a href="#" class="h-link">&nbsp;&nbsp;&nbsp; Висцеральная теория сна выглядит стр…</a>
                            </div>
                            <div class="widget-entry__info">2&nbsp;ответа</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div></div>

<div class="col-sm-10 all-posts">
<div class="row b-post-filter">
    <span class="pull-right">
        записи по
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">месяцам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="#" class="h-link">Нулябрь</a><li>
                <li><a rel="nofollow" href="#" class="h-link">Первябрь</a><li>
            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">меткам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/sborka.html" class="h-link">сборка</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/python.html" class="h-link">python</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/javascript.html" class="h-link">javascript</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/rabota.html" class="h-link">работа</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/oshibka.html" class="h-link">ошибка</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/blender.html" class="h-link">blender</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/linux.html" class="h-link">linux</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/java.html" class="h-link">java</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/ia.html" class="h-link">Я</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/iandeks.html" class="h-link">Яндекс</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/radost.html" class="h-link">радость</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/emacs.html" class="h-link">emacs</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/eda.html" class="h-link">еда</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/zhizn.html" class="h-link">жизнь</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/nabrosok.html" class="h-link">набросок</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bredni.html" class="h-link">бредни</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/icfpc.html" class="h-link">icfpc</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/programmirovanie.html" class="h-link">программирование</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/google.html" class="h-link">google</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bge.html" class="h-link">bge</a>                </li>            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">типам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="http://imdagger.github.io/category/description.html" class="h-link">обращение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/friend.html" class="h-link">дружба</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/join.html" class="h-link">клубы</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/link.html" class="h-link">ссылки</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/mood.html" class="h-link">настроение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/photo.html" class="h-link">фото</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/text.html" class="h-link">текст</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/video.html" class="h-link">видео</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/wishlist.html" class="h-link"></a><li>
            </ul>
        </div>
    </span>
</div>
    <div class="row b-post">
<div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/16/konferentsiia/" >
                16 марта 2010 года, 17:02
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zhizn.html">жизнь</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/konferentsiia.html">конференция</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/16/konferentsiia/">Конференция</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp; &nbsp; Пару часов назад она закончилась. Я своё дело сделал, теперь могу
ненадолго расслабиться и отдохнуть :). В целом я доволен, только мог бы
по моей тебе кто-нибудь собраться с силами и духом и задать вопросов,
наверное из-за того, что я в списке был предпоследним, то все уже слегка
устали.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/16/obnovlenie-s-samba4-alpha9-git/" >
                16 марта 2010 года, 07:19
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/samba4.html">samba4</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/obnovlenie.html">обновление</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/gliuk.html">глюк</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/16/obnovlenie-s-samba4-alpha9-git/">Обновление с Samba4-alpha9-GIT</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp; &nbsp; Попробовал обновиться с 9 до 12 альфы и вылезла куча проблем, что
ldb файлы они поперемещали, изменили формат схемы. Короче я за 15 минут
не смог обновить, придётся повозиться больше. Лучше пусть пока 9
поработает, хотя она иногда такие плюшки выкидывает… может подвисать и
долго загружать профиль из AD, service samba4 restart не помогает, т.к.
это не полный перезапуск сервиса, нужно service samba4 stop, service
samba4 start. Или даже перезагрузку :(. Найду время для экспериментов (а
то сейчас всё должно работать, т.к. важное мероприятие) и обновлю.
Обновление с Samba4 alpha9 до alpha12 труднее, чем с alpha6 до alpha9,
т.к. они внесли больше изменений в работу сервиса. Жду с нетерпением
релиз кандидата.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/15/skhemy/" >
                15 марта 2010 года, 13:50
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/skhema.html">схема</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/simuliatsiia.html">симуляция</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/qucs.html">qucs</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/15/skhemy/">Схемы</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Вот схемы Qucs, который вчера никак не удалялась загрузить на Я.ру.
Сама схема мультивибратора:</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/158215/"><img alt="image0" src="http://img-fotki.yandex.ru/get/3912/imdagger.6/0_26a07_fa5cbe72_L" title="image0"/></a></p>
<p>А вот её странный график симуляции. Похоже, что сигнал пульсирует,
но он немного странный. Когда я пытаюсь выставить правильное
сопротивление резисторов, то симуляция в Qucs прерывается.</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/158216/"><img alt="image1" src="http://img-fotki.yandex.ru/get/3813/imdagger.6/0_26a08_864d290a_L" title="image1"/></a></p>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/14/simuliatsiia-v-qucs/" >
                14 марта 2010 года, 20:03
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/simuliatsiia.html">симуляция</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/qucs.html">qucs</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/14/simuliatsiia-v-qucs/">Симуляция в Qucs</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Попробовал я симулировать симметричный мультивибратор на двух
транзисторах в Qucs. Построил схему, взял похожие на реальность
параметры, но почему-то получил не такой результат как ожидал :S. Скрины
не получается приложить, т.к. у долбаного Белетелекома для нас припасены
самые корявые маршрутизаторы. А ещё называется расширили канал … куда
расширили? за счёт кого и чего?</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/13/gliuki-dostupa/" >
                13 марта 2010 года, 08:17
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/negoduiu.html">негодую</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/marshrutizator.html">маршрутизатор</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zol.html">зол</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/13/gliuki-dostupa/">Глюки доступа</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Оказывается это наш любимый <del class="del">
может когда-нибудь вытянет свои
копытца</del>
 общий провайдер-маршрутизатор Belpak теряет 50-80% пакетов на
пути к маршрутизатору Ростелекома. И это случается после 20:00 (а ещё
говорили, что расширили канал… расчёт чего они расширили? откуда у них
перегрузки?), в то самое время, когда мне есть чего написать, когда я
всю работу сделал, когда просто хочется сесть и написать то, что
придумал за день :( Зря я на Яндекс подумал, я проверил доступ из-за
границы, там и ping до Ростелекома хороший и потери пакетов 0% (у меня
только так до 20:00). Где ж эти нехорошие <del class="del">
посылаю им луч поноса</del>
 Belpak
спрятали на сайте у себя ссылку, чтобы с ними связаться?</p>
<p>UPD Нашёл адрес суппорта, написал письмо, буду ждать ответа :(…</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/11/dinamicheskaia-zagruzka-iz-skriptov/" >
                11 марта 2010 года, 14:50
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/vozmozhnosti.html">возможности</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/11/dinamicheskaia-zagruzka-iz-skriptov/">Динамическая загрузка из скриптов</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Добавил в BGE вызов функций отложенной загрузки объектов сцены из
другого blend-файла, а также функцию отложенной выгрузки. До этого можно
было лишь пользоваться актуатором:</p>
<div class="highlight"><pre><span class="pgcss-n">cc</span> <span class="pgcss-o">=</span> <span class="pgcss-n">GameLogic</span><span class="pgcss-o">.</span><span class="pgcss-n">getCurrentController</span><span class="pgcss-p">()</span>
<span class="pgcss-n">blend_loader</span> <span class="pgcss-o">=</span> <span class="pgcss-n">cc</span><span class="pgcss-o">.</span><span class="pgcss-n">actuators</span><span class="pgcss-p">[</span><span class="pgcss-s">&#39;load&#39;</span><span class="pgcss-p">]</span>
<span class="pgcss-n">blend_loader</span><span class="pgcss-o">.</span><span class="pgcss-n">scene</span> <span class="pgcss-o">=</span> <span class="pgcss-s">&#39;Room stuff&#39;</span>
<span class="pgcss-n">room_number</span> <span class="pgcss-o">=</span> <span class="pgcss-mi">112</span>
<span class="pgcss-n">blend_loader</span><span class="pgcss-o">.</span><span class="pgcss-n">blendFileName</span> <span class="pgcss-o">=</span> <span class="pgcss-s">&#39;//room</span><span class="pgcss-si">%s</span><span class="pgcss-s">/stuff/main.blend&#39;</span> <span class="pgcss-o">%</span> <span class="pgcss-n">room_number</span>
<span class="pgcss-n">cc</span><span class="pgcss-o">.</span><span class="pgcss-n">activate</span><span class="pgcss-p">(</span><span class="pgcss-n">blend_loader</span><span class="pgcss-p">)</span>
</pre></div>
<p>blend_loader загрузит сцену из файла с относительным путём
<strong>//room112/stuff/main.blend</strong>,&nbsp;<strong>blendFileName</strong> это свойство,
которое указывает имя файла. так способом можно загружать за одну
итерацию BGE только количество сцен равное количеству активированных
актуаторов. С выгрузкой аналогично. Такой подход может быть удобным,
если нужно по мере загрузки обновлять изображение на экране и
отрисовывать, например полосу прогресса загрузки.</p>
<p>Но бывает нужно за один подход загрузить несколько групп объектов.
Немноог напоминает транзакции из баз данных, т.е. ничего не должно
вклиниваться между загрузкой двух сцен, ни отрисовка, ни другие события
актуаторов или сенсоров. Эту проблему решит добавка отдельного API для
загрузки не через актуаторы:</p>
<div class="highlight"><pre><span class="pgcss-n">room_file_name</span> <span class="pgcss-o">=</span> <span class="pgcss-s">&#39;//room</span><span class="pgcss-si">%s</span><span class="pgcss-s">/stuff/main.blend&#39;</span>
<span class="pgcss-n">room_number</span> <span class="pgcss-o">=</span> <span class="pgcss-mi">112</span>
<span class="pgcss-n">GameLogic</span><span class="pgcss-o">.</span><span class="pgcss-n">mergeBlendFile</span><span class="pgcss-p">(</span><span class="pgcss-s">&#39;Room Stuff&#39;</span><span class="pgcss-p">,</span> \
             <span class="pgcss-s">&#39;//room</span><span class="pgcss-si">%s</span><span class="pgcss-s">/stuff/main.blend&#39;</span> <span class="pgcss-o">%</span> <span class="pgcss-n">room_number</span><span class="pgcss-p">)</span>
 <span class="pgcss-n">room_number</span> <span class="pgcss-o">=</span> <span class="pgcss-mi">115</span>
 <span class="pgcss-n">GameLogic</span><span class="pgcss-o">.</span><span class="pgcss-n">unmergeBlendFile</span><span class="pgcss-p">(</span><span class="pgcss-s">&#39;Room Stuff&#39;</span><span class="pgcss-p">,</span> \
             <span class="pgcss-n">room_file_name</span> <span class="pgcss-o">%</span> <span class="pgcss-n">room_number</span><span class="pgcss-p">,</span> <span class="pgcss-bp">True</span><span class="pgcss-p">)</span>
</pre></div>
<p>Т.е. в сцену, где расположен объект, на котором исполняется данных
скрипт контроллера, добавить объекты из сцены&nbsp;Room
Stuff&nbsp;//room112/stuff/main.blend <u class="underline">
на следующей итерации</u>
. И тут же
потребовать выгрузки на следующей итерации сцены
из&nbsp;//room115/stuff/main.blend, True указывает, что это <strong>Forced</strong> режим
(когда BGE пробудет удалить и blend-файл из памяти, если никто его не
использует). False — обычный режим, BGE удаляет объекты, но blend-файл
оставляет в памяти, чтобы в следующий раз не считывать с диска (вдруг
его опять скоро попросят загрузиться).</p>
<p>Нужно учитывать, что загрузка и выгрузка происходят на новой
итерации, но… проверка при выгрузке происходит сразу. Т.е., если
попросить загрузить <strong>A</strong> и тут же попросить выгрузить <strong>A</strong>, то
загрузка будет (на новой итерации), а при выгрузке скажет, что файл ещё
не загрузился (сразу после исполнения функции).</p>
<p>Соберусь с силами и сделаю ещё один билд. Нужно подправить
функционал связанный с оверлеями :) Я рассчитываю его тоже включить в
сборку.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/10/iandeks-tormozit/" >
                10 марта 2010 года, 21:52
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/iandeks.html">Яндекс</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/pechal.html">печаль</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ia.html">Я</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zol.html">зол</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/10/iandeks-tormozit/">Яндекс тормозит</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Я ужасно зол! Яндекс тормозит! Все сервисы, кажется он нас
дискриминирует по IP, это случается вечером (и не у меня одного,
провайдера разные, но есть и те у кого провайдер совсем в другой подсети
и не тормозит). Ничего больше не тормозит, только он, т.е. эт оне
проблема зоны ru! Это не выносимо, т.к. ping-гуется быстро, Jabber
работает быстро, а 80 порт для HTTP тормозит зверски.
Через webproxy.ru работает более менее, т.е. хотя бы не по 30-40 минут
грузится 1-2 килобайта. И случается только вечером… :( А я так хотел
разного интересного написать про BGE.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/09/uff/" >
                9 марта 2010 года, 14:19
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ustal.html">устал</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zhizn.html">жизнь</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/09/uff/">Уфф</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>&nbsp; &nbsp; Я за последние 30 часов спал только &lt;1.5 часа. Чувствую сегодня себя
как овощ, реакция медленная, постоянно клонит в сон, нужно либо сейчас
поспать либо выдержать до вечера и дома забуриться…</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/07/ia-zabyvaka/" >
                7 марта 2010 года, 16:51
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blog.html">блог</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zapisi.html">записи</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/sokhranenie.html">сохранение</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/privat.html">приват</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/chernovik.html">черновик</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/zabyl.html">забыл</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/iandeks.html">Яндекс</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/07/ia-zabyvaka/">Я забывака</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Бывает, что запись, которую я пишу очень длинная или я её пишу на
работе в очень поздний час. Но мне не хочется, чтобы я случайно
писал-писал запись.. а потом бах.. и уничтожил, упал на комп :) выдернул
шнур .. мало ли.. привычка ещё с машинок EC 1841 и EC 1842. Вирус Stir
(его как-то так звали) каждые 15 минут заставлял комп повиснуть, а буквы
начинали сыпаться сверху вниз. Drweb не мог вывести этот вирус у нас,
хотя и обнаруживал (классно был написан вирус и грамотно). Поэтому
выработалась привычка сохраняться часто… очень часто! Так.. о чём это я…
А о том, что я записи, когда пишу в блог стараюсь сохранять тоже часто,
но на Я.ру нету кнопочки или функционала «Сохранить как черновик». С
другой стороны я не хочу публиковать не доработанную запись, поэтому
ставлю галочку, что запись могу видеть только я и сохраняю. Когда я её
целиком дописываю, то выставляю галочку, что её могут видеть все. Но вот
я обнаружил пару казусов :)</p>
<p>Пару дней назад я написал запись и забыл ей вернуть публичный
статус. Потом я решил просмотреть все свои записи и найти, где
различается их количество для меня и для других пользователей.
Оказалось, что есть ещё такая запись!! Аж в сентябре!! Я им вернул
правильный статус, теперь они доступны:</p>
<p><a class="reference external" href="http://imdagger.ya.ru/replies.xml?item_no=712">про Blender</a> и
ещё <a class="reference external" href="http://imdagger.ya.ru/replies.xml?item_no=251">про Java</a></p>
<p>Постараюсь больше не забывать устанавливать флажок, что записи
могут видеть все. Либо нужно сделать какой-нибудь мелкий UserJS, который
будет мне об этом напоминать или реализует что-то типа сохранения
черновика. Тут нужно подумать и поискать время… или работать по-старинке
;).</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2010/03/07/ia-malenkii-texnik/" title="изменено 18 июля 2014 года в 22:14">
                7 марта 2010 года, 11:10
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/diplom.html">диплом</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/tex.html">tex</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/programmirovanie.html">программирование</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/okonchaniia.html">окончания</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/stranitsy.html">страницы</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/latex.html">latex</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2010/03/07/ia-malenkii-texnik/">Я маленький TeXник</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Уже несколько лет я всё собирался добавить моему шаблону возможность
выводить количество страниц с учётом, что в русском языке есть
окончания. Но раньше мне не хватало знаний и понимания ни Τεχ ни других
LaΤεχ. Но вчера я собрался с силами и духом и потратил пару часов на
эксперименты, написание кода и изучения исходников LaΤεχ. Я открыл
<strong>/usr/share/texmf/tex/latex/base/latex.ltx</strong>. Я знал, что
\‍ref{TotPages} выводит страницы правильно и всего одно число, хоть и в
самой переменной <a class="reference external" href="mailto:r&#64;TotPages">r&#64;TotPages</a> хранится {число}{число} (оно попадает туда
aux-файла при помощи \‍newlabel{TotPages}{{23}{23}}).</p>
<p>Я взглянул на код макроса ref:</p>
<div class="highlight"><pre><span class="pgcss-k">\def\‍</span>ref#1<span class="pgcss-nb">{</span><span class="pgcss-k">\expandafter\@</span>setref<span class="pgcss-k">\csname</span> r@#1<span class="pgcss-k">\endcsname\@</span>firstoftwo<span class="pgcss-nb">{</span>#1<span class="pgcss-nb">}}</span>
</pre></div>
<p>Видно, что он использует для выбора параметра из двух макрос
\&#64;firstoftwo. Но я не мог понять, как оно передаёт один параметр этому
макросу. если тот требует два. А потом до меня дошло и понеслось…</p>
<div class="highlight"><pre><span class="pgcss-c">%% расширить макрос \@setref только после его аргументов, а у него их 3-и</span>
<span class="pgcss-k">\expandafter\@</span>setref
<span class="pgcss-c">%%  преобразует ссылку TotPages в \‍r@TotPages</span>
<span class="pgcss-k">\csname</span> r@#1<span class="pgcss-k">\endcsname</span>
<span class="pgcss-c">%% макрос, при помощи которого будет выбирать аргумент для вывода</span>
<span class="pgcss-k">\@</span>firstoftwo
<span class="pgcss-c">%% название ссылки, т.е. в моём случае строка TotPages, используется для</span>
<span class="pgcss-c">%% вывода ошибки, если она не найдена</span>
<span class="pgcss-nb">{</span>#1<span class="pgcss-nb">}</span>
</pre></div>
<p class="cut"><a class="h-link reference internal" href="#cut_77101840"data-toggle="collapse">посмотреть описание и макрос, который я написал</a></p>
<div class="collapse" id="cut_77101840">
<p>Тогда я решил сделать свой макрос \totpagesvalue, который в
указанный счётчик сохранит число страниц из aux-файла. Вот такой он
получился по аналогии:</p>
<div class="highlight"><pre><span class="pgcss-k">\def\totpagesvalue</span>#1<span class="pgcss-nb">{</span><span class="pgcss-k">\expandafter\@</span>totpagesvalue<span class="pgcss-k">\csname</span> r@TotPages<span class="pgcss-k">\endcsname\@</span>firstoftwo<span class="pgcss-nb">{</span>#1<span class="pgcss-nb">}}</span>
<span class="pgcss-k">\def\@</span>totpagesvalue#1#2#3<span class="pgcss-nb">{</span><span class="pgcss-c">%</span>
  <span class="pgcss-k">\ifx</span>#1<span class="pgcss-k">\‍</span>relax
   <span class="pgcss-k">\protect\G</span>@refundefinedtrue
   <span class="pgcss-k">\@</span>latex@warning<span class="pgcss-nb">{</span>Reference <span class="pgcss-k">\`</span>TotPages&#39; on page <span class="pgcss-k">\thepage</span> <span class="pgcss-k">\space</span>
                      undefined<span class="pgcss-nb">}</span><span class="pgcss-c">%</span>
  <span class="pgcss-k">\else</span>
   <span class="pgcss-k">\countdef\@</span>pagescount=#3
   <span class="pgcss-k">\expandafter\@</span>pagescount=<span class="pgcss-k">\expandafter</span>#2#1<span class="pgcss-k">\‍</span>null
  <span class="pgcss-k">\fi</span><span class="pgcss-nb">}</span>
</pre></div>
<p>Таким образом, если вызвать <code class="code">
 \totpagesvalue{88}</code>
, то число страниц
будет помещено в счётчик <code class="code">
 \count88</code>
. Затем я написал команду вывода числа
и текста с правильным окончанием <code class="code">
 \writewithword</code>
.</p>
<div class="highlight"><pre><span class="pgcss-c">%% вывод числа с текстом:</span>
<span class="pgcss-c">%% 1. число</span>
<span class="pgcss-c">%% 2. для 1 (т.е. страниц-а, рисунок-0)</span>
<span class="pgcss-c">%% 3. для 2,3,4 (т.е. страниц-ы, рисунк-а)</span>
<span class="pgcss-c">%% 4. для 0, 5, 6, 7, 8, 9 (страниц-0, рисунк-ов)</span>
<span class="pgcss-c">%% 5. номер счётчика для временного хранения данных</span>
<span class="pgcss-c">%% 6. номер второго временного счётчика для расчётов</span>
<span class="pgcss-k">\‍</span>newcommand<span class="pgcss-nb">{</span><span class="pgcss-k">\writewithword</span><span class="pgcss-nb">}</span>[6] <span class="pgcss-nb">{</span>
  <span class="pgcss-k">\countdef\@</span>pagescount=#5
  <span class="pgcss-k">\@</span>pagescount=#1
  <span class="pgcss-k">\countdef\@</span>mod=#6
  <span class="pgcss-k">\@</span>mod=<span class="pgcss-k">\@</span>pagescount
  <span class="pgcss-c">%% для x11 ... x19</span>
  <span class="pgcss-k">\divide\@</span>mod by 100
  <span class="pgcss-k">\multiply\@</span>mod by 100
  <span class="pgcss-k">\advance\@</span>mod by -<span class="pgcss-k">\@</span>pagescount
  <span class="pgcss-k">\multiply\@</span>mod by -1
  <span class="pgcss-k">\ifthenelse</span><span class="pgcss-nb">{</span><span class="pgcss-k">\the\@</span>mod&gt;10 <span class="pgcss-k">\and</span> <span class="pgcss-k">\the\@</span>mod&lt;20<span class="pgcss-nb">}{</span>
    <span class="pgcss-k">\the\@</span>pagescount~#4
  <span class="pgcss-nb">}{</span>
    <span class="pgcss-k">\@</span>mod=<span class="pgcss-k">\@</span>pagescount
    <span class="pgcss-c">%% для x0 … x9</span>
    <span class="pgcss-k">\divide\@</span>mod by 10
    <span class="pgcss-k">\multiply\@</span>mod by 10
    <span class="pgcss-k">\advance\@</span>mod by -<span class="pgcss-k">\@</span>pagescount
    <span class="pgcss-k">\multiply\@</span>mod by -1
    <span class="pgcss-k">\the\@</span>pagescount
    <span class="pgcss-k">\ifthenelse</span><span class="pgcss-nb">{</span><span class="pgcss-k">\equal</span><span class="pgcss-nb">{</span><span class="pgcss-k">\the\@</span>mod<span class="pgcss-nb">}{</span>1<span class="pgcss-nb">}}{</span>#2<span class="pgcss-nb">}{</span>
      <span class="pgcss-k">\ifthenelse</span><span class="pgcss-nb">{</span><span class="pgcss-k">\equal</span><span class="pgcss-nb">{</span><span class="pgcss-k">\the\@</span>mod<span class="pgcss-nb">}{</span>2<span class="pgcss-nb">}</span>
        <span class="pgcss-k">\or</span> <span class="pgcss-k">\equal</span><span class="pgcss-nb">{</span><span class="pgcss-k">\the\@</span>mod<span class="pgcss-nb">}{</span>3<span class="pgcss-nb">}</span>
        <span class="pgcss-k">\or</span> <span class="pgcss-k">\equal</span><span class="pgcss-nb">{</span><span class="pgcss-k">\the\@</span>mod<span class="pgcss-nb">}{</span>4<span class="pgcss-nb">}}</span> <span class="pgcss-nb">{</span>#3<span class="pgcss-nb">}{</span>#4<span class="pgcss-nb">}</span>
    <span class="pgcss-nb">}</span>
  <span class="pgcss-nb">}</span>
<span class="pgcss-nb">}</span>
</pre></div>
<p>Оставалось только объединить оба макроса в <code class="code">
 \showpagecount</code>
,
который выводит, например, 23 страниц<strong>ы</strong> или 11 страни<strong>ц</strong>.</p>
<div class="highlight"><pre><span class="pgcss-c">%% вывод вида: [число страниц] страниц/а/ы</span>
<span class="pgcss-k">\‍</span>newcommand<span class="pgcss-nb">{</span><span class="pgcss-k">\showpagecount</span><span class="pgcss-nb">}</span>[5] <span class="pgcss-nb">{</span>
 <span class="pgcss-k">\totpagesvalue</span><span class="pgcss-nb">{</span>#4<span class="pgcss-nb">}</span>
 <span class="pgcss-k">\countdef\@</span>pagescount=#4
 <span class="pgcss-k">\writewithword</span><span class="pgcss-nb">{</span><span class="pgcss-k">\@</span>pagescount<span class="pgcss-nb">}{</span>#1<span class="pgcss-nb">}{</span>#2<span class="pgcss-nb">}{</span>#3<span class="pgcss-nb">}{</span>#4<span class="pgcss-nb">}{</span>#5<span class="pgcss-nb">}</span>
<span class="pgcss-nb">}</span>
</pre></div>
<p>У меня есть файл referat.sty, который подготавливает реферат и
выводит число страниц и другую информацию по отчёту или диплому.
Используется вывод страниц в нём так:</p>
<div class="highlight"><pre><span class="pgcss-k">\showpagecount</span><span class="pgcss-nb">{</span>страница<span class="pgcss-nb">}{</span>страницы<span class="pgcss-nb">}{</span>страниц<span class="pgcss-nb">}{</span>48<span class="pgcss-nb">}{</span>47<span class="pgcss-nb">}</span>.
</pre></div>
<div class="alert  alert-warning compound">
<p>Не забыть подключить пакеты <code class="code">
totpages</code>
 и <code class="code">
ifthen</code>
.</p>
</div>
<p>Переменная TotPages у
меня сбрасывается <code class="code">
 \setcounter{TotPages}{-1}</code>
, чтобы не нумеровать
титульный лист, а реферат не учитывается в страницы.</p>
</div>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div>        <div class="panel panel-default">
            <div class="panel-body more">
                <span class="less-prev"><a class="h-link" href="http://imdagger.github.io/category/text50.html">Назад</a></span>
                <span class="more-next"><a class="h-link" href="http://imdagger.github.io/category/text52.html">Ещё записи</a></span>
            </div>
        </div>
    </div>
</div>
        </div>
    </body>
</html>