<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <title>IMDagger: Дневник</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Блог IMDagger: IT и жизнь" />
        <meta name="keywords" content="python,lisp,scheme,racket,emacs,blender,программирование,моделирование,lua,c++,c,js,java,git,bazaar" />
        <meta name="author" content="Alex Moiseenko (IMDagger)" />

<meta name="robots" content="noindex"/>
        <!-- Open Graph -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />
        <link rel="shortcut icon" href="http://imdagger.github.io/favicon.ico" />
        <link rel="stylesheet" href="/theme/css/html4css1.css" />
        <link rel="stylesheet" href="/theme/css/style.css" />
        <link rel="stylesheet" href="/theme/css/pygment.css" />
        <link rel="stylesheet" href="/theme/css/math.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML,http://imdagger.github.io/theme/js/math.js"></script>
        <script src="http://s3.amazonaws.com/nwapi/nwmatcher/nwmatcher-1.2.5-min.js"></script>
        <!--[if (gte IE 6)&(lte IE 8)]>
          <script type="text/javascript" src="/theme/js/selectivizr-min.js"></script>
          <noscript><link rel="stylesheet" href="[fallback css]" /></noscript>
        <![endif]-->

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <link href="http://imdagger.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="IMDagger Atom-лента" />
    </head>

    <body>
        <div class="row page-head">
            <div class="row page-head-status page-head-status-top"><div class="col-sm-12 b-status mine"><p><i></i><a href="#" title="настроение" class="b-consistent-link"><b>Продать кому-то что-то всегда на деле сложнее, чем кажется</b></a></p></div></div>
            <div class="col-sm-2 page-left">
                <a href="#">
                    <img src="http://upics.yandex.ru/22199227/normal" ilo-full-src="http://upics.yandex.ru/22199227/normal">
                </a>
            </div>
            <div class="col-sm-10 all-posts">
                <div class="title-container">
                    <h1><b><a href="http://imdagger.github.io" class="fn nickname">IMDagger</a></b></h1>
                </div>
                <div class="title-menu">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#">Дневник</a>
                        </li>
                        <li><a href="http://fotki.yandex.ru/users/imdagger">Фотки</a></li>
                        <li><a href="http://imdagger.github.io/pages/o-sebe.html">О себе</a></li>
                        <li><a href="http://imdagger.github.io/pages/rss-lenta.html">RSS-лента</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row page-body">
<div class="col-sm-2 page-left">
<div class="row widget widget-photo">
    <a href="posts/2011/08/07/aga-popalsia/" class="b-user-photo__link"><img class="b-user-photo__img" src=" http://img-fotki.yandex.ru/get/5409/22199227.a/0_625fc_e780ccc7_L
?log_nocount=64720402854"></a>
</div><div class="row widget">
    <div class="widget-content b-user-info">
        <div class="widget__body">
            <div class="widget-user-info__age">
                <i class="widget-user-info__sex widget-user-info__sex_type_"></i> 27&nbsp;лет
            </div>
            <div class="widget-user-info__place">
                <a href="#">Гомель</a>,                <a href="#">Беларусь</a>            </div>
            <ul class="contacts">
                <li class="contact contact-type-email"><i></i><a href="mailto:imdagger@yandex.ru">imdagger@yandex.ru</a></li>
                <li class="contact contact-type-ya-online"><i></i>imdagger@ya.ru</li>
                <li class="contact contact-type-icq"><i></i>350395088</li>
            </ul>
        </div>
    </div>
</div>

<div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Метрика</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
              <!-- noindex -->
              <!-- googleoff: index -->
              <div class="widget-entry">
                <!-- Yandex.Metrika informer --><a href="https://metrika.yandex.ru/stat/?id=25746494&amp;from=informer" target="_blank" rel="nofollow"><img src="//bs.yandex.ru/informer/25746494/3_1_FFFFFFFF_EFEFEFFF_0_pageviews" style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" onclick="try{Ya.Metrika.informer({i:this,id:25746494,lang:'ru'});return false}catch(e){}"/></a><!-- /Yandex.Metrika informer --><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter25746494 = new Ya.Metrika({id:25746494, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/25746494" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
                <!-- googleon: index -->
                <!-- /noindex -->
                </div>
            </div>
        </div>
    </div>
</div><div class="row widget">
    <div class="widget-content">
        <div class="widget__title">
            <div class="widget__title-link">Популярное в дневнике</div>
        </div>
        <div class="widget__body">
            <div class="widget-line">
                <div class="widget-entry">
                    <div class="widget-day__title">25&nbsp;июня</div>
                    <div class="widget-entry clearfix">
                        <div class="widget-entry__item">
                            <div class="widget-entry__title">
                                <a href="#" class="h-link">&nbsp;&nbsp;&nbsp; Висцеральная теория сна выглядит стр…</a>
                            </div>
                            <div class="widget-entry__info">2&nbsp;ответа</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div></div>

<div class="col-sm-10 all-posts">
<div class="row b-post-filter">
    <span class="pull-right">
        записи по
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">месяцам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="#" class="h-link">Нулябрь</a><li>
                <li><a rel="nofollow" href="#" class="h-link">Первябрь</a><li>
            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">меткам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/programmirovanie.html" class="h-link">программирование</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/emacs.html" class="h-link">emacs</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/python.html" class="h-link">python</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/blender.html" class="h-link">blender</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/iandeks.html" class="h-link">Яндекс</a>                </li>                <li>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/radost.html" class="h-link">радость</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/zhizn.html" class="h-link">жизнь</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/google.html" class="h-link">google</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/javascript.html" class="h-link">javascript</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/nabrosok.html" class="h-link">набросок</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/icfpc.html" class="h-link">icfpc</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bge.html" class="h-link">bge</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/oshibka.html" class="h-link">ошибка</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/java.html" class="h-link">java</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/bredni.html" class="h-link">бредни</a>                </li>                <li>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/linux.html" class="h-link">linux</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/sborka.html" class="h-link">сборка</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/rabota.html" class="h-link">работа</a>                    <a rel="nofollow" class="tag-2" href="http://imdagger.github.io/tag/eda.html" class="h-link">еда</a>                    <a rel="nofollow" class="tag-1" href="http://imdagger.github.io/tag/ia.html" class="h-link">Я</a>                </li>            </ul>
        </div> ·
        <div class="btn-group">
            <span type="button" class="pseudo-link" data-toggle="dropdown">типам</span>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li><a rel="nofollow" href="http://imdagger.github.io/category/description.html" class="h-link">обращение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/friend.html" class="h-link">дружба</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/join.html" class="h-link">клубы</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/link.html" class="h-link">ссылки</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/mood.html" class="h-link">настроение</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/photo.html" class="h-link">фото</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/text.html" class="h-link">текст</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/video.html" class="h-link">видео</a><li>
                <li><a rel="nofollow" href="http://imdagger.github.io/category/wishlist.html" class="h-link"></a><li>
            </ul>
        </div>
    </span>
</div>
    <div class="row b-post">
<div class="panel panel-join">
    <div class="panel-heading b-post-type b-post-type-join">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
присоединился к клубу <a class="b-club__link" href="http://clubs.ya.ru/python"><b class="b-club__first-letter">P</b>ython</a>        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/urn:ya.ru:post/22199227/19/" >
                15 июня 2009 года, 18:38
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
            </noindex>
            <div class="post-title">
            </div>
            <div class="row post-body">
                <div class="b-text">
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-join">
    <div class="panel-heading b-post-type b-post-type-join">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
присоединился к клубу <a class="b-club__link" href="http://clubs.ya.ru/4611686018427388118"><b class="b-club__first-letter">E</b>macs</a>        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/urn:ya.ru:post/22199227/18/" >
                15 июня 2009 года, 18:37
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
            </noindex>
            <div class="post-title">
            </div>
            <div class="row post-body">
                <div class="b-text">
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-join">
    <div class="panel-heading b-post-type b-post-type-join">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
присоединился к клубу <a class="b-club__link" href="http://clubs.ya.ru/linux"><b class="b-club__first-letter">L</b>inux</a>        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/urn:ya.ru:post/22199227/17/" >
                15 июня 2009 года, 18:35
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
            </noindex>
            <div class="post-title">
            </div>
            <div class="row post-body">
                <div class="b-text">
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/sloi-i-bge/" >
                15 июня 2009 года, 18:17
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2009/06/15/sloi-i-bge/">Слои и BGE</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Если создать объект на видимом слое и разместить его в отдельном
blend-файле, а потом его подключить как библиотеку в другом, переместив
его на невидимый слой уже внутри данного blend-файла, то могут
возникнуть проблемы. Если запустить игру, нажав <kbd class="kbd">
P</kbd>
 в редакторе Blender,
то создание объекта при помощи актуатора пройдёт без проблем. Если же
сделать ‘Save Game As Runtime…’, а потом запустить готовую игру, то оно
скажет, что объект не на скрытом слое. Поэтому, я полагаю, лучше
объекты, которые будут создаваться динамически при помощи актуатора,
стоит размещать заранее на невидимые слои.</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-mood">
    <div class="panel-heading b-post-type b-post-type-mood">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
поделился настроением        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/urn:ya.ru:post/22199227/15/" >
                15 июня 2009 года, 18:11
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
            </noindex>
            <div class="post-title">
            </div>
            <div class="row post-body">
                <div class="b-text">
<p>извечно нейтральное</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-mood">
    <div class="panel-heading b-post-type b-post-type-mood">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
поделился настроением        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/urn:ya.ru:post/22199227/14/" >
                15 июня 2009 года, 16:06
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
            </noindex>
            <div class="post-title">
            </div>
            <div class="row post-body">
                <div class="b-text">
<p>настроение не очень</p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-photo">
    <div class="panel-heading b-post-type b-post-type-photo">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
вывесил фотки        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/oboi-rabochego-stola/" >
                15 июня 2009 года, 12:43
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/oboi.html">обои</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/slackware.html">slackware</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/linux.html">linux</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/wallpaper.html">wallpaper</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2009/06/15/oboi-rabochego-stola/">Обои рабочего стола</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p class="row photo-item"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50563"><img alt="Slackware.png" src="http://img-fotki.yandex.ru/get/3607/imdagger.0/0_c583_20453d28_L" title="Slackware.png"/></a></p>
<p>Делал давно, тогда почти ничего не умел, это одна из самых первых
черновых работ. Использую как обою рабочего стола. Может кому
понравится, сильно не пинать за качество. Есть идея нарисовать новую, но
уже не такую.</p>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/15/izmenenie-mesha-priamo-iz-bge/" >
                15 июня 2009 года, 12:29
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/blender.html">blender</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/python.html">python</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2009/06/15/izmenenie-mesha-priamo-iz-bge/">Изменение меша прямо из BGE</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Попробовал сегодня изменить положении точек в прострастве для меша
кубика прямо из BGE. Не знаю зачем мне пока это нужно, но всё же
прикольно :) Написал такой Python скрипт для актуатора:</p>
<pre class="literal-block">
cc = GameLogic.getCurrentController()
obj = cc.getOwner()
mesh = obj.getMesh()
v = mesh.getVertex(0, 2)
v.setXYZ([-1.0, -1.0, 5.0])
</pre>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50556/"><img alt="image0" src="http://img-fotki.yandex.ru/get/3603/imdagger.0/0_c57c_68396e5b_L" title="image0"/></a></p>
<p>Получилась вот такая вот штука, нужно только не забывать, что будут
изменены все объекты в BGE, которые опираются на данный меш:</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50558/"><img alt="image1" src="http://img-fotki.yandex.ru/get/3505/imdagger.0/0_c57e_36a2edd7_L" title="image1"/></a></p>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/14/uragany/" >
                14 июня 2009 года, 18:14
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/gomel.html">Гомель</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/buria.html">буря</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2009/06/14/uragany/">Ураганы</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Жаль, что после ураганов у нас в городе не пытаются “вернуть в строй”
хотя бы часть деревьев. А то летом без них никак, спрятаться негде.</p>
<p>Фото после бури (сделано мной)
<a class="reference external" href="http://fotki.yandex.ru/users/imdagger/album/35621/">…</a></p>
<p>Новость с сайта
<a class="reference external" href="http://naviny.by/rubrics/disaster/2009/06/13/ic_articles_124_163139/">naviny.by</a></p>
                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div><div class="panel panel-text">
    <div class="panel-heading b-post-type b-post-type-text">
        <b class="b-user">
            <a class="b-user__link" href="http://imdagger.github.io/author/imdagger.html"><b class="b-user__first-letter">I</b>MDagger</a>
        </b>
написал        <span class="pull-right b-date">
            <a class="h-link" href="http://imdagger.github.io/posts/2009/06/13/ustroistvo-tekstovykh-tekstur-v-blender/" >
                13 июня 2009 года, 20:28
            </a>
        </span>
    </div>
    <div class="panel-body">
        <div class="col-sm-1 b-post__layout-left">
            <a href="http://imdagger.github.io/author/imdagger.html"><img src="http://upics.yandex.ru/22199227/middle"></a>
        </div>
        <div class="col-sm-11 b-right-col">
            <noindex>
<div class="row tags-row">
    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bge.html">bge</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/iznutri.html">изнутри</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/ustroistvo.html">устройство</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/bfnt.html">bfnt</a></span>,    <span class="tag"><a rel="nofollow" class="h-link" href="http://imdagger.github.io/tag/tekst.html">текст</a></span></div>
            </noindex>
            <div class="post-title">
<a class="no-link" href="http://imdagger.github.io/posts/2009/06/13/ustroistvo-tekstovykh-tekstur-v-blender/">Устройство &quot;текстовых текстур&quot; в Blender</a>            </div>
            <div class="row post-body">
                <div class="b-text">
<p>Недавно прочитал интересную
<a class="reference external" href="http://blender-ru.blogspot.com/2009/05/blender-ge.html">запись</a> в
блоге про создание динамического текста в BGE. Скачал пример оттуда, всё
было прекрасно, я был счаслив, но… потом я решил поредактировать
текстуру прямо в Blender редакторе и сохранить на диск. Включил опцию
редактирования.</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50257/"><img alt="image0" src="http://img-fotki.yandex.ru/get/3606/imdagger.0/0_c451_45828fd2_L" title="image0"/></a></p>
<p>Потом я просто зарисовал символ “@” на текстуре.</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50258/"><img alt="image1" src="http://img-fotki.yandex.ru/get/3501/imdagger.0/0_c452_4cc20671_L" title="image1"/></a></p>
<p>Ничто не предвещало беды, т.к. я всё выполнил правильно, текст
отображался и работал в игровом движке. Но когда я сохранил файл на
диск, а потом попытался создать новый проект в Blender (использую
2.48a), то получилась какая то ерунда. Больше текст не отображался, а
лишь какое-то странное повторение символов “@”, которые были старательно
мной “замылены” (т.е. вместо текста были одни “собаки”).</p>
<p>Тогда мне пришла мысль, что оно где-то хранит данные о позициях
символов, размера и внутренний редактор Blender’а просто для удобства
редактирования убирает “лишнее”.</p>
<p>Так оно и оказалось. После долгих мучений и сравнений изображения из
примера и моего “редактирование”  я обратил внимаение на небольшое
различие: на эталонной картинке вверху присутствовало приблизительно 4
пикселя высотой “мусора”, состоящего из оттенков серого. Эта информация
была сгенерирована скриптом из туториала, но не отображалась в редакторе
Blender.</p>
<p class="text-center"><a class="reference external" href="http://fotki.yandex.ru/users/imdagger/view/50279/"><img alt="image2" src="http://img-fotki.yandex.ru/get/3607/imdagger.0/0_c467_b6603cc7_L" title="image2"/></a></p>
<p>Сначала я озхнакомился с текстом Python скрипта <strong>blendFont.py</strong>,
обратил внимание на <a class="reference external" href="http://pastebin.com/f2d827021">функцию</a> putPix.
Понял, что она записывает байты данных, как пиксели прямо на картинку
при помощи цвета. Потом я решил поковыряться в исходниках Blender и
найти, где же оно проверяет соответствие формату и парсит заголовок.</p>
<p>Так я пришёл к файлу <strong>source/blender/blenkernel/intern/bmfont.c</strong>. Там
расположены две интересные функции <em>detectBitmapFont</em>(ImBuf *ibuf) и
<em>readBitmapFontVersion0</em>(ImBuf *ibuf, unsigned char *rect, int
step). Указатель ibuf-&gt;rect ссылается на участок байтов, который
содержит пиксельные данные.</p>
<p>Если rect[0], rect[1], rect[2] и rect[3] равны символам ‘B’, ‘F’, ‘N’,
‘T’, то данное изображение 8-битное. Если эта проверка не ыполнилась, то
считается, что картинка 32-битная и проверяется rect[0], rect[4],
rect[8], rect[12] со смещениями от 0 до 4. Если заголовок был найден, то
вызывается readBitmapFontVersion, ей передаётся по сколько нужно читать
байтов, пр 32-битном изображении - по 4 байта на пиксель.</p>
<p>Формат текстуры для шрифта выглядит таким образом (это стало ясно после
обзора исходного кода readBitmapFontVersion):</p>
<ul class="simple">
<li>4 байта для magic-последовательности (BFNT)</li>
<li>2 байта для версии</li>
<li>2 байта - количество глифов</li>
<li>размер по X - 2 байта</li>
<li>размер по Y - 2 байта</li>
</ul>
<p>Затем  идёт описание каждого из символов (ровно столько сколько указано
в заголовке):</p>
<ul class="simple">
<li>уникодный символ - 2 байта</li>
<li>позиция левого верхнего угла для символа на текстуре (LocX - 2 байта,
LocY - 2 байта)</li>
<li>смещение (OfsX - 1 байт, OfsY - 1 байт)</li>
<li>размер в пикселях (SizeX - 1 байт, SizeY - 1 байт)</li>
<li>advance - 1 байт</li>
<li>1 байт зарезервирован</li>
</ul>                </div>
            </div>
            <div class="row comments-row">
                <span><a class="pseudo-link b-candy b-comment-shortcut"><i class="b-ico"></i>ответить</a></span>
            </div>
        </div>
    </div>
</div>        <div class="panel panel-default">
            <div class="panel-body more">
                <span class="less-prev"><a class="h-link" href="http://imdagger.github.io/index113.html">Назад</a></span>
                <span class="more-next"><a class="h-link" href="http://imdagger.github.io/index115.html">Ещё записи</a></span>
            </div>
        </div>
    </div>
</div>
        </div>
    </body>
</html>