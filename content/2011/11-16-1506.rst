Исключение файлов при сборке под Android
========================================
:date: 2011-11-16 00:30:06
:tags: файл, правило, исключение, Android, ant, компиляция
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1506

Жаль, что без копирования+вставки не обошлось, но проблема
заключалась в том, что при сборке под Android нужно, чтобы Ant исключил
некоторые java-файлы. Т.к. эти файлы не удастся собрать под мобильную
платформу и они предназначены для другой сборки.

Я забрался в *android-sdk-linux\_x86/tools/ant/main\_rules.xml* и
нашёл *target* с *name* равный *compile*. Затем я скопировал всё правило
и вставил в свой файл Ant-правил до :code:`<setup />` узла.

После этого внутри узла javac добавил правило:

.. code-block:: xml

    <javac ...>
        <exclude name="путь/к/файлу" /> <!-- src/ в этот путь не нужно включать -->
    </javac>
