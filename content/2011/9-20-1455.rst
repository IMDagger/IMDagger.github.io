Ошибка в os.path.relpath в Python 2.6
=====================================
:date: 2011-09-20 20:14:19
:tags: python, библиотека, relpath, ошибка
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1455

Нужно было видимо поставить сразу Python 2.7, а не Python 2.6. Т.к.
я сегодня потратил минут 30 на поиск ошибки в коде, а оказалось она в
библиотеке из стандартного комплекта.

.. code-block:: pycon

    >>> import os
    >>> os.path.relpath('/test', '/')
    ../test

Но это ведь не правильно, должно было сказать, просто test. Т.к.
подняться выше корня нельзя и объект лежит в корне. Немного подправил
posixpath.py. Я знал, что этот баг уже давно нашли, поэтому просто
подправил вручную файл в соответствии с патчем
http://bugs.python.org/file19111/py27_fix_relpath.patch
