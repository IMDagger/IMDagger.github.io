Внутренние структуры Blender элементов управления
=================================================
:date: 2012-05-10 23:55:11
:modified: 2012-05-10 23:57:07
:tags: blender, bge, программирование, доработка
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1593

Создание новых GUI элементов для самого пакета Blender стало теперь
получше и их новое решение выглядит с архитектурной точки зрения
корректнее, чем большая функция и груда uiDefBut-функций, которые
управляют одновременно и типами и диапазонами и разметкой. Теперь всё
что связано с типами, контролем и логическим описанием полей находится в
:code:`source/blender/makesrna/intern/rna\_\*.c`, а всё что с разметкой в
:code:`source/blender/editors/space\_\*/\*\_window.c` файлах. В файлах разметки
можно управлять только рядами, колонками, резиновой вёрсткой через
uiLayoutRow, uiItemR и т.д. Может немного смутить старый код, они его
ещё не весь вычистили, особенно из space\_logic, там есть код от вывода
актуаторов старым способом, не стоит обращать на него внимания, он не
используется.

Больше не приходится писать магические конструкции типа таких:

    | uiDefBut(block, TEX, 1, "Imageset: ", **xco+10, yco-44,width-20,19,
      &(guia->layoutname),**
      **0, 63, 0, 0,** "Imageset name where cursor is present");

Где жёстко зашиваешь позицию элемента в блоке и его размеры.
