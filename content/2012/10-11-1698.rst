TexturePacker разбор полётов
============================
:date: 2012-10-11 22:26:53
:tags: упаковка, текстура, libGDX, TexturePacker
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1698

    Всё же TexturePacker (который уже успел устареть, т.к. недавно
появился, но ещё не релизнулся TexturePacker2) не настолько топорный,
как я подумал сначала. В нём осталось пару мест, где его можно расширить
и использовать по своему усмотрению. Это методы addImage и process
(который не статический). Можно составить свой список изображений,
сгруппировав их как хочется, затем передать в addImage буфер каждой
картинки (это легко почерпнуть из самих исходников класса), а в конце
вызывать process с указанием куда положить результат и суффиксом для
атласов.

    Есть конечно и ложка дёгтя: нельзя простым способом изменить
indexPattern и поведение Filter. Но часть проблемы решается тем, что
addImage вторым параметром принимает название изображение и оно не
обязано быть каким-либо путём на диске. Поэтому в этой точке можно
трансформировать реальный путь к изображению в некоторый псевдоним,
который переварит регулярное выражение indexPattern из TexturePacker.

    P.S. Мне удалось построить на базе этого упаковщика расширенную
версию под собственные нужды на Kawa. Несколько дней размышлений, выбора
упаковщика, пару часов работы и вуаля — персональные нужды
удовлетворены.

 

