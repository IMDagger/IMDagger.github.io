Волна
=====
:date: 2009-11-11 18:39:00
:tags: волна, bge
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=389

Вдохновлённый волнами вдруг задумался, а как можно нарисовать в 3D
волну в BGE. Придумал такую схему: есть небольшой кусочек волны
(плоскость), есть генератор волны (например Empty), генератор создаётся
новые объекты при помощи instantAddObject, но перед этим смещает все
существующие и убирает лишние.

После этого эксперимента я понял, как побороть ошибку, что объект в
BGE уже уничтожен, а Python-ссылка ведёт в никуда. Оказалось:

    | # нужно проверить флаг *invalid* перед работой с BGE-объектом
    | for obj in …
    |    if not **obj.invalid**:
    |        …

Ролик, который просто демонстрирует, как я сижу за компьтером и делаю
сцену, и запускаю BGE (волны движутся так медленно потому, что записывал
с частотой **4 кадра в секунду**):

.. class:: text-center

.. yavideo:: 1uwv46vaaj.604
   :width: 450
   :height: 370

Резкий подкат камеры к зелёной «плоскости» — режим работы с
объектом, когда все остальные пропадают, а изображение выбранного
масштабируется под область видимости (делается при помощи клавиши
:kbd:`/`, и туда и обратно).
