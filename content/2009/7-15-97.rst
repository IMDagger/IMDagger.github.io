Система диалогов
================
:date: 2009-07-15 17:07:43
:tags: python
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=97

Доделаю загрузку диалога из XML-файла и тогда уже немного опишу, как оно
у меня всё работает и выложу архив с частью проекта.

А пока чуть-чуть рефакторил свой код и наткнулся, что я в некоторый
местах делал проверку, если строка начинается с определённой
последовательности символов следующим образом:

.. code-block:: python

    if attr[:12] != 'new_warrior_':
        ...

Решил, что это как-то “по-корявски”, т.к. вдруг мне захочется
переименовать префикс методов на что-то отличное от **new\_warrior\_**,
но тогда придётся и число 12 менять (да и выходит какая-то “магическая”
константа). Заменил этот код на другой, благо у строк есть чудесный
метод :code:`startswith`:

.. code-block:: python

    if not attr.startswith('new_warrior_'):
        ...

Его теперь и читать можно как пердложение :), а не “набор значков”.
