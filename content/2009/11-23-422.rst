Полочка
=======
:date: 2009-11-23 18:36:37
:tags: проект, bazaar, shelve
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=422

Чем больше использую bzr, тем больше начинаю употреблять его
функционала. Потихоньку растёт список активно используемыемых мной
команд. В этот раз я модифицировал в проекте много файлов, но все
модификации были связаны с началом работы в
*concretic.items.\_\_init\_\_*. Вышло, что я написал скрипт, который
загрузит эти файлы, которые правил для рекурсивного импорта. Но эти две
модификации несут разный смысл и мне нужно было сделать два коммита, а
откат при помощи **bzr revert** делать не хотел (чтобы закоммитить по
отдельности). Тогда я вспомнил про **bzr shelve**, что можно часть
файлов «отложить в долгий ящик». Схема коммитов:

.. code-block:: console

    $ bzr shelve __init__.py
    говорит, что запомнило модификацию под именем 1
    описание можно задать при помощи опции -m
    $ bzr commit
    описываю суть модификации множества файлов (всех, кроме
    __init__.py)
    $ bzr unshelve
    применяется сохранённая модификации на последнюю ревизию
    $ bzr commit
    на этот раз описываю суть созданного скрипта

Приятно находить что-то новое в достаточно долго используемом
инструменте. От этого любви к нему только прибавляется.
