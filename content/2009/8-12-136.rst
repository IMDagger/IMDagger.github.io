Ещё патчик
==========
:date: 2009-08-12 15:31:49
:tags: патч, midnight commander
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=136

Наконец-то я доделал патч к `38
тикету <http://www.midnight-commander.org/ticket/38>`__. Оттестил его
вроде всё работает, как нужно, хотя 100% гарантии дать не могу :P. Я и
то сделал, сперва, одним способом, а потом вспомнил, что есть же ещё
VFS, которые тоже следует корректно обрабатывать. Пришлось доделать ещё
один фикс к ветке с 38 тикетом. Хорошо, что **mc\_chdir** работает как
следует, даже если перед этим путь преобразовать при помощи
**vfs\_translate\_url**. Только жаль, что не получилось использовать
do\_panel\_cd, хотя это были бы лишние chdir и лишняя перестройка списка
файлов. А у меня только одна при инициализации структуры. Но для этого
пришлось чуть подправавить функцию panel\_new, и разрешить принимать
параметр текущей директории панели.

.. class:: text-center

|image0|

Ё-хо-хо!

.. |image0| image:: http://img-fotki.yandex.ru/get/3610/imdagger.3/0_10cf0_ccd3af09_L
   :target: http://fotki.yandex.ru/users/imdagger/view/68848/
