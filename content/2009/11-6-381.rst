Кости
=====
:date: 2009-11-06 20:58:01
:tags: blender, скринкастинг, bge, кость
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=381

Из-за немощности моего рабочего компа (в остновном я его использую,
как терминалку к серверам) пришлось найти компромис между большими
объёмами данных (и потерями при запими на винчестер) и процессорным
временем на сжатие. Как наиболее оптимальный я выбрал *qtrle*. Опция
**xga** указывает на разрешение записываемого ролика, т.е. 1024x768.
Опция *-r* задаёт частоту записи равную 4 кадрам в секунду (замедления
ощущаются, но они равномерные, а не рывками как при recordmydesktop).
Устройство для захвата это X-овая сессия **:0.0**, кодек для захвата
x11grab (должен присутствовать в ffmpeg -formats).

    **ffmpeg -f x11grab -s xga -r 4 -i :0.0 -vcodec qtrle result.mov**

На выходе получился ролик приблизительно 34МiB. И
продолжительностью около 4 минут. Я решил перекодировать его другим
кодеком, который хорошо сожмёт, но не потребует изменения масштаба или
создаст сильную потерю качества. Кодек mpeg4 “набросал много грязи”, а
h264 потребовал другое соотношение сторон. Но я заметил в списке
поддерживаемых (ffmpeg -formats) кодек для flash.

    **ffmpeg -ss 2 -t 00:03:57 -i result.mov -vcodec flashsv
    result2.flv**

Он сжал ролик до 7MiB. Меня это удовлетворяло и он оставил качество
на таком уровне, что когда я смотрел, то на пару секунд забыл, что это
видео, а не живая система:

.. yavideo:: m4sjpx6t7h.1108
   :width: 450
   :height: 338
   :align: center

Сначала я создаю основу Body, затем две кости Left и Right, но
убираю ссылку на предка. Переворачиваю их и устанавливаю ограничители
такие, чтобы «ножки смотрели» всегда на основу и далеко не отрывались.

P.S. Курсор у меня в системе на самом деле чёрный с белой окантовкой, но
он аппаратный, поэтому ffmpeg создаёт свой при записи, который белый с
чёрной каймой.
