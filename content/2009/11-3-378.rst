Сфера
=====
:date: 2009-11-03 19:38:06
:tags: python, задача, spoj
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=378

Решил посетить SPOJ (Sphere Online Judge), давно я там не решал.
Иногда, когда на душе грустно, то можно что-нибудь поделать из раздела
Challenge. Обычно это всевозможные весёлые задачи и что главное — в
таблице результатов есть «пиписькометр». Т.е. всегда можно улучшать своё
решение и как такового единственно верного нет. Мой взор пал на задачу
`SLEXSORT <https://www.spoj.pl/problems/SLEXSORT/>`__. Кратко:

Дано число тестов, тесты разделяются одной пустой строкой. Каждый
тест — число слов (по одному в строке), алфавит в порядке возрастания
букв, а затем сами слова (гарантируют, что входной поток каждого из
тестов не превысит 4\*10\ :sup:`6`). Нужно для каждого теста
отсортировать слова в соответствии с алфавитом и вывести их. При этом
исходный код программы должен быть как можно **меньше**.

Пока я 27-ой в `таблице результатов по
задаче <https://www.spoj.pl/ranks/SLEXSORT/start=20>`__, делал я на
Python, больше ужать не выходит:

.. code-block:: python

    r=lambda: raw_input().rstrip()
    d=xrange
    y=sorted
    t=lambda a,b:''.join(b[a.index(i)]if i in a else i for i in map(chr, d(256)))
    for _ in d(int(r())):
        a=r();b=y(a);s,s2=t(a, b),t(b, a)
        print ' '.join(y(r().translate(s) \ for _ in d(int(r())))).translate(s2)+' '
        r()

Это решение занимает 276 байт, можно сделать и меньше, его можно ещё
чуть-чуть ужать, если убрать пробелы, но в целом у меня больше пока не
получается сжать. Нужно менять идею…
