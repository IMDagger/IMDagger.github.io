Скролл
======
:date: 2010-02-24 19:28:14
:tags: blender, bge, last_gateway_to_hell, скролл
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=700

Открыл я файл с исходным кодом Blender в том месте, где должен
обрабатываться элемент интерфейса такой, как полоса прокрутки и увидел
то, что и ожидал:

.. code-block:: c

    case SCROLL:
       /* DrawBut(b, 1); */
       /* do_scrollbut(b); */
       /* DrawBut(b,0); */
       break;

Логично, что функция полосы прокрутки не задокументирована и не
работает. Поэтому и в LuxRender экспортёре реализуют свой класс scrollbar.
Я взял этот класс и посмотрел как он определяет позицию она и
работает в общем. Переделал его под свои нужды, т.к. в экспортёре он
высотой во всё окно и прижат к правому краю. Мне нужна произвольная
позиция и использование уже существующего класса контроллера :code:`Bag`,
который реализует метода :code:`scroll_up`, :code:`scroll_down` и :code:`pos`. Новый класс
:code:`base.editor_utils.Scrollbar` принимает в качестве аргумента контроллер
рюкзака, получается такое своеобразное представление-контроллер, которое
обрабатывает и события, передавая их в настоящий контроллер. Сразу
заработало перемещение ползунка при нажатии на кноки, т.к. класс себя
позиционирует как дополнительное представление контроллера рюкзака.

.. class:: text-center

|image0|

.. |image0| image:: http://img-fotki.yandex.ru/get/3908/imdagger.5/0_22e17_8e398c87_L
   :target: http://fotki.yandex.ru/users/imdagger/view/142871/
