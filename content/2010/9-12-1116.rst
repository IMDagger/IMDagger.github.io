Одолел Samba4 corrupted users.ldb
=================================
:date: 2010-09-12 18:32:51
:tags: tdb, ошибка, починил, исправление, повреждение, радость, python, samba4, Я, устал, повезло, работа
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1116

    Сегодня ужасно устал, но придумал решение. Возможно из-за моей
правки потерялось 100-200 записей и от этого нашушится десяток
пользователей (старых, не новых), которые не часто появляются или вообще
уже не появятся. По сравнению с 20000 потерянных записей до правки,
100-200 это мизер :). Завтра утром Bacula сделает бэкап моих правок и
жизнь наладится. Завтра распишу, как выправил и суть проблемы и
нарушения LDB,  как мне помогла утилита tdbtool, hex-редактор, понимание
структуры TDB, знание Magic кода, языка Python и проверки при помощи
ldbedit.

