Не забывать
===========
:date: 2010-04-06 16:40:30
:tags: python
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=799

Под действием веществ недавнего контакта с низкоуровневыми языками
чуть-чуть было временно искажено восприятие данных. Я проверял Django
формы на правильность и собирал их в список invalid\_forms, если они
неправильные. Но если этот список был пустым, то нужно было создать
новые пустые формы и поместить в список forms. При этом, если
invalid\_forms не пустой, то нужно его передать как forms, но не
наполнять лишними данными. Я написал как-то так:

    | тут наполняем invalid\_forms
    | **forms = invalid\_forms**
    | тут проверка forms и работа с ним
    | тут отображение forms 

А потом я смотрел десяток минут красными глазами на код и думал,
почему когда правится forms, то и invalid\_forms тоже. Заменил на
копирование объектов:

    | тут наполняем invalid\_forms
    | forms = [] 
    | **forms[:] = invalid\_forms # копирование только данных**
    | тут проверка forms и работа с ним
    | тут отображение forms 

Поэтому голова всегда должны быть трезвой и понимать, что
копирование в Python — копирование ссылки.
