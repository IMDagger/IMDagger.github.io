Конвертирование из \*.png
=========================
:date: 2010-11-07 18:12:55
:tags: качество, png, конвертер, рендер, ffmpeg, blender
:category: text
:author: IMDagger
:yaru-link: http://imdagger.ya.ru/replies.xml?item_no=1165

Порой удобнее отрендерить множество PNG-файлов, а только затем
сделать видео, а не сразу рендерить как видео ряд. Выполз один pitfall
при такой конвертации у меня при помощи ffmpeg, качество сильно падало.
Но опция -sameq спасла, т.к. она задаёт уровень качества выходного
потока такой же как входного, а у моих PNG он 100%. 120 кадров заняли в
AVI-контейнере с использование MPEG4 кодека около 2Мб.

.. code-block:: sh

   # поумолчанию Blender создаёт png вида 0001.png, …, 0100.png, …
   # мне нужно 25 кадров в секунду, это было выбрано в Blender при рендеринге
   ffmpeg -sameq -r 25 -i %04d.png -vcodec mpeg4 rabbit.avi
